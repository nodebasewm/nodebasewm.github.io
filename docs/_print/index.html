<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.110.0"><link rel=canonical type=text/html href=/docs/><link rel=alternate type=application/rss+xml href=/docs/index.xml><meta name=robots content="noindex, nofollow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Documentation | NodeBaseDevs</title><meta name=description content="Documentation and tooling for WM EarthNode Operators"><meta property="og:title" content="Documentation"><meta property="og:description" content="Documentation and tooling for WM EarthNode Operators"><meta property="og:type" content="website"><meta property="og:url" content="/docs/"><meta property="og:site_name" content="NodeBaseDevs"><meta itemprop=name content="Documentation"><meta itemprop=description content="Documentation and tooling for WM EarthNode Operators"><meta name=twitter:card content="summary"><meta name=twitter:title content="Documentation"><meta name=twitter:description content="Documentation and tooling for WM EarthNode Operators"><link rel=preload href=/scss/main.min.d6cc2ae862fa5c937a2dbb3d86c775f5e0f56868c19e280b817554aeceea0342.css as=style><link href=/scss/main.min.d6cc2ae862fa5c937a2dbb3d86c775f5e0f56868c19e280b817554aeceea0342.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-00000000-0"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-00000000-0")}</script></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/><span class="navbar-brand__logo navbar-logo"></span><span class=navbar-brand__name>NodeBaseDevs</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/about/><span>About</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/docs/><span class=active>Documentation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/blog/><span>Blog</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/community/><span>Community</span></a></li></ul></div><div class="navbar-nav d-none d-lg-block"><div class=td-search><div class=td-search__icon></div><input type=search class="td-search__input form-control td-search-input" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>This is the multi-page printable view of this section.
<a href=# onclick="return print(),!1">Click here to print</a>.</p><p><a href=/docs/>Return to the regular view of this page</a>.</p></div><h1 class=title>Documentation</h1><ul><li>1: <a href=#pg-6e17e09fffc1050f46600282def85180>Overview</a></li><ul></ul><li>2: <a href=#pg-93aadc1aba179e6928539400a09b9e4e>Getting Started</a></li><ul><li>2.1: <a href=#pg-03b8357b417b723f8ad61f64c6eaca34>Sentry Node Installation</a></li><ul></ul></ul><li>3: <a href=#pg-3ff1a20d0d0de02c74fbf433a1a36d88>Tools</a></li><ul><li>3.1: <a href=#pg-481784193ce4f9a8417943f1a5e0ef9d>Ayaview</a></li><ul></ul></ul><li>4: <a href=#pg-4fefb76022d2197fa024a85fdfd43b42>Configuration</a></li><ul><li>4.1: <a href=#pg-069cf7e699926d482c645ecce65f75b4>Node Architecture Design</a></li><ul></ul><li>4.2: <a href=#pg-34c65a51a300bc74a3ddc7cb42410fb1>Validator Sentry config.toml</a></li><ul></ul><li>4.3: <a href=#pg-96d45b64e69d8303860ce76f1d1ba919>Used Ports</a></li><li>4.4: <a href=#pg-c70761960577a158747753fbed114bf5>Update Website and Logo</a></li><ul></ul><li>4.5: <a href=#pg-fd67629aa01d0ad0f8fb088ba0712f09>Firewall Settings</a></li><ul></ul></ul><li>5: <a href=#pg-dad47267c998683619539ddbb298e9c4>Testnet</a></li><ul><li>5.1: <a href=#pg-148dacc578cf1ee7ce81251de7e05bf2>Jailing</a></li><li>5.2: <a href=#pg-17db9e64bd27599e7ad87c4028d0f289>Q&A</a></li></ul><li>6: <a href=#pg-8dbd4e302cd86a4d0f71f71ce3b300de>Tutorials</a></li><ul><li>6.1: <a href=#pg-acd09a1aafbebae8a61dc8539fbd5f35>1. Sentry Node Manual Installation</a></li><ul></ul><li>6.2: <a href=#pg-a016e539f3ce938337d5cb2ebb8675f5>2. Validator Node Manual Installation</a></li><ul></ul><li>6.3: <a href=#pg-5efeafd9bd8fb47164fcc343fa5b081f>3. Cardano Chain Follower Manual Installation and root-list Registration</a></li><ul></ul></ul><li>7: <a href=#pg-8efbf7499fe9c7bde8d2c1bb7ff6ee3c>Contribution Guidelines</a></li><ul></ul></ul><div class=content><div class="pageinfo pageinfo-primary"><p>NodeBaseDevs Documentation site</p></div></div></div><div class=td-content><h1 id=pg-6e17e09fffc1050f46600282def85180>1 - Overview</h1><div class=lead>Overview</div><p><strong>Written by Nodebase Team member <a href=https://twitter.com/EarthNodeChile>EarthNodeChile (Nico Verboven)</a></strong></p><p>In the documentation section, you will find resources to setup and configure your Earthnode successfully.
Detailed technical guides and step-by-step tuturial will be available to help those with less technical knowledge.</p><p>NodeBaseDevs is providing more than just technical knowledge.</p><p>The team is working on custom developed tools to assist Earthnode operators in installation, configuration, monitoring
and alerting.</p><h2 id=where-should-i-go-next>Where should I go next?</h2><ul><li><a href=/docs/getting-started/>Getting Started</a>: Get started with running an EarthNode on the WorldMobile Chain</li><li><a href=/docs/tutorials/>Tutorials</a>: Easy to follow step-by-step guides.</li><li><a href=/docs/configuration/>Configuration</a>: Detailed configuration information</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-93aadc1aba179e6928539400a09b9e4e>2 - Getting Started</h1><div class=lead>Get started running your nodes!</div><div class="pageinfo pageinfo-primary"><p>The Getting Started will guide you through thte site material</p></div><h2 id=prerequisites>Prerequisites</h2><p>You must be a WorldMobile Earthnode operator with access to the private or public tesnet. If you don&rsquo;t have access yet, contact
a moderator in the WorldMobile telegram groups to request the access form.</p><h2 id=installation>Installation</h2><p>You will need to have access to a linux server for installation of the WM Earthnode validator. Hardware requirements is minimal 2 cores, 4GB RAM without grafana and 8GB RAM with grafana and 40GB DISK space-</p><h2 id=setup>Setup</h2><p>The earthnode installation package provided on testnet gives you everything you need to install a validator node. At the NodeBaseDevs site you will find addtional setup instructions for installing relay nodes and complete configuration guidelines.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-03b8357b417b723f8ad61f64c6eaca34>2.1 - Sentry Node Installation</h1><div class=lead>Installation Guide with script</div><div class=toc><h2>Table Of Contents</h2><nav id=TableOfContents><ul><li><a href=#installation>Installation</a><ul><li><a href=#nodebasetools>NodebaseTools</a></li><li><a href=#instructions>Instructions</a></li><li><a href=#configuration>Configuration</a></li><li><a href=#step-by-step-manual-installation>Step-by-Step Manual Installation</a></li></ul></li></ul></nav></div><h1 id=installation>Installation</h1><p>Installing a sentry node requires a different installation procedure than
a validor node.</p><p>The install_node.sh script provided by the WM team only covers validator nodes, and does not apply for sentry nodes. With some small adjustments
this script can be adjusted to be used to install sentry nodes</p><p>Sentry nodes dont have operator keys, since they are not part of the consensus voting.</p><h2 id=nodebasetools>NodebaseTools</h2><blockquote><p>The NodeBaseDevs team created an <strong>install_sentry.sh</strong> installation script.</p></blockquote><p>This script is part of the <strong>bundled nodebase tools package</strong> release package that can be found in the <a href=https://github.com/nodebasewm/download/releases/>github releases</a></p><h2 id=instructions>Instructions</h2><ul><li><p>Download the nodebase tools zipfile</p><p><code>wget https://github.com/nodebasewm/download/archive/refs/tags/nodebasetools.zip</code></p></li><li><p>unzip this file, it will create the folder download-nodebasetools/.</p></li><li><p>copy the install_sentry.sh to your earthnode_installation folder</p></li><li><p>The other scripts in the zip you can put wherever you want. Recommendation is to put them in /usr/local/bin</p></li><li><p>make sure executable permissions are set on the scripts</p><p><code>chmod +x install_sentry.sh</code></p></li><li><p>run the script with a moniker name for your sentry from within the earthnode installation folder</p><p><code>./install_sentry.sh -m MONIKER_NAME</code></p></li><li><p>Unlike a validator node, <strong>no registration</strong> is needed for sentry nodes.</p></li><li><p>wait for the node to be synced to full height from the snapshot point. <strong>The installation script will terminate automatically when the node is synced to latest block height</strong></p></li></ul><h2 id=configuration>Configuration</h2><blockquote><p>Please continue with following the Sentry-Validator configuration instructions in <a href=/docs/configuration/config>Configuration</a> to configure your nodes accordingly after installation completes.</p></blockquote><h2 id=step-by-step-manual-installation>Step-by-Step Manual Installation</h2><p>Alternatively, you can follow our step-by-step sentry node installation guide for manual installation.
You can find this in our <a href=/docs/tutorials/sentrynodemanual/>Tutorial Section</a></p></div><div class=td-content style=page-break-before:always><h1 id=pg-3ff1a20d0d0de02c74fbf433a1a36d88>3 - Tools</h1><div class=lead>NodeBaseDevs Tools</div><p>The NodeBaseDevs team is continuously adding scripting and tooling to its <a href=https://github.com/nodebasewm/download/releases/>github release page</a></p><p>You can download the entire tool package as follows.<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>wget https:<span style=color:#b0bec5>//github.com/nodebasewm/download/archive/refs/tags/nodebasetools.zip
</span></span></span></code></pre></td></tr></table></div></div></p><p>The package currently contains:</p><ul><li><strong>install_sentry.sh</strong> installation script</li><li><strong>addresses.sh</strong> : shows all your node address, useful for setup</li><li><strong>validators.sh</strong>: show all bonded validators by moniker/address and status</li><li><strong>ayafix.sh</strong>: post installation fix to setup cosmovisor.service and fix links</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-481784193ce4f9a8417943f1a5e0ef9d>3.1 - Ayaview</h1><div class=lead>Ayaview Console</div><p><strong>Developed by Nodebase Team member <a href=https://twitter.com/EarthNodeChile>EarthNodeChile (Nico Verboven)</a></strong></p><div class=toc><h2>Table Of Contents</h2><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a></li><li><a href=#ayaview>AyaView</a></li><li><a href=#validators>Validators</a><ul><li><a href=#sorting-validator-view>Sorting Validator View</a></li><li><a href=#filter-validator-view>Filter Validator View</a></li></ul></li><li><a href=#peers-display>Peers Display</a></li><li><a href=#installation-instructions>Installation Instructions</a></li><li><a href=#configuration>Configuration</a><ul><li><a href=#ayaview-on-sentry-node>Ayaview on Sentry Node</a></li><li><a href=#ayaview-on-validator-node>Ayaview on Validator Node</a></li><li><a href=#grpcrpcapi-ports>GRPC/RPC/API Ports</a></li><li><a href=#system-update-interval>System update Interval</a></li><li><a href=#config-file>Config-File</a></li></ul></li></ul></nav></div><h1 id=introduction>Introduction</h1><p>Ayaview is a local monitoring tool for your validator node.It can be used besides a setup
based on Grafana-Prometheus for light-weight direct monitoring.</p><p>It has a very intuitive console view, written entirely in Golang for performance.
Ayaview monitors your validator status and blocks produced on chain, as also system metrics and peer information.</p><p>It can be run entirely standalone, started/stopped as many times you want without affecting your node.</p><h1 id=ayaview>AyaView</h1><p>Ayaview provides node status display of your node. Uptime / peers / blocks proposed and system metrics.</p><figure class="card rounded p-2 td-post-card mb-4 mt-4" style=max-width:857px><img class=card-img-top src=/docs/tools/ayaview/ayaview_hue8afbc298a9034a57464cf8ba1578008_84423_900x600_fit_catmullrom_3.png width=847 height=512><figcaption class="card-body px-0 pt-2 pb-0"><p class=card-text><small class=text-muted><br>picture</small></p></figcaption></figure><h1 id=validators>Validators</h1><p>The validator view display active validators and their current status.
The information displayed is</p><ol><li>Moniker and address</li><li>MissedBlocks : How many blocks missed in slashing window</li><li>CCF : Checks if validator is on the Cardano ChainFollower list</li><li>Tokens: How many delegated tokens</li><li>Power: Voting power</li><li>State: Signing state</li><li>Commission: Commission rate set on this validator</li></ol><figure class="card rounded p-2 td-post-card mb-4 mt-4" style=max-width:910px><img class=card-img-top src=/docs/tools/ayaview/validators_hua15308325df2568c74ded31805f08dc3_150678_900x600_fit_catmullrom_3.png width=900 height=548><figcaption class="card-body px-0 pt-2 pb-0"><p class=card-text><small class=text-muted><br>picture</small></p></figcaption></figure><p>Additionally, the view supports filtering and sorting.</p><figure class="card rounded p-2 td-post-card mb-4 mt-4" style=max-width:910px><img class=card-img-top src=/docs/tools/ayaview/filtersort_hu6e4c426ddda2c24cbea0afc9e9460c93_40112_900x600_fit_catmullrom_3.png width=900 height=211><figcaption class="card-body px-0 pt-2 pb-0"><p class=card-text><small class=text-muted><br>picture</small></p></figcaption></figure><h2 id=sorting-validator-view>Sorting Validator View</h2><p><strong>Press the key &rsquo;s&rsquo;</strong> to sort on different columns and order. By repeating
pressing the &rsquo;s&rsquo; key you will be able to cycle through different sort options,
display in the upper right corner</p><h2 id=filter-validator-view>Filter Validator View</h2><p>Wildcard filtering is also added. The filter implements glob based style filtering (similar to file path filters on command line)</p><p><strong>By pressing the key &lsquo;f&rsquo;</strong> you enter the filter node, and you can start typing your filter,
display in the upper right corner, The section will be highhlighted in yellow.
And the filter is applied while typing in real-time updates. Because the filter captures the input, you need to press the ESC button to end filter setup, so you can go back and change the tab display</p><ul><li>Important: Only use the filtering patterns &lsquo;*&rsquo; and &lsquo;?&rsquo;. The filter currently doesnt support [abc] and [a-z] style filters</li></ul><h1 id=peers-display>Peers Display</h1><p>A powerful feature of ayaview is to show peer connections by pressing the key &lsquo;p&rsquo;. This will show you all peer connections with their latency and location. Also a live view of the P2P connection details are shown when selecting a peer, like transaction speed/s.</p><figure class="card rounded p-2 td-post-card mb-4 mt-4" style=max-width:887px><img class=card-img-top src=/docs/tools/ayaview/peers_hu4322e6fd5dce3c51d615bd598b70dddf_67947_900x600_fit_catmullrom_3.png width=877 height=600><figcaption class="card-body px-0 pt-2 pb-0"><p class=card-text><small class=text-muted><br>picture</small></p></figcaption></figure><h1 id=installation-instructions>Installation Instructions</h1><p>Download ayaview from nodebasewm github and unzip as follows</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>wget <span style=color:#ffb8d1>-</span>O ayaview.zip https:<span style=color:#b0bec5>//github.com/nodebasewm/download/blob/main/ayaview.zip?raw=true
</span></span></span><span style=display:flex><span><span style=color:#b0bec5></span>unzip ayaview.zip</span></span></code></pre></td></tr></table></div></div><p>After configurating ayaview using the configuration instructions,
you can start ayaview in any open terminal window.</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>.<span style=color:#ffb8d1>/</span>ayaview 
</span></span></code></pre></td></tr></table></div></div><p>A configuration file is provided, which must be used in the following conditions:</p><ul><li>You run ayaview on a sentry but want to see node status of your validator. (blocks signed/proposed )</li><li>You changed the default ports of grpc (29090) or rpc (25567) or api (1317)</li><li>You want the change the default update interval for system metrics</li><li>You want to have a default filter applied to validators</li></ul><p>Use ayaview with config file :</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>.<span style=color:#ffb8d1>/</span>ayaview <span style=color:#ffb8d1>--</span>config config.toml</span></span></code></pre></td></tr></table></div></div><p>If you run ayaview on your validator, it will automatically discover your validator node and connect to it.</p><h1 id=configuration>Configuration</h1><p>The configuration of ayaview is done through a <strong>config.toml</strong> configuration file. A default config file is delivered part of the installation.</p><div class="alert alert-primary" role=alert><h4 class=alert-heading>Note</h4>This is <strong>NOT</strong> the same config.toml as the <em>aya config.toml</em>. Ayaview has its own config.toml file, which is part of the zip package.</div><h2 id=ayaview-on-sentry-node>Ayaview on Sentry Node</h2><p>If your run ayaview on a sentry node, you will only see chain activity such as blocks and chain events. If you want to see the validator node status information this sentry is pointing to, you will have to pass a config.toml file to ayaview. Ayaview will clearly display on the Home tab if your node is a validator or a sentry node.</p><p>You can use the config.toml delivered as part of ayaview.zip.
Edit the value of <strong>validator</strong> in the config.toml with the address of your validator node.</p><p>This address is the <strong>ayavalop</strong> BECH32 notation of your validator node.
It must start with the ayavalop prefix, any other BECH32 notation will <strong>NOT</strong> work.</p><p>To retrieve your validators operator address, take a look at the <a href=/docs/testnet/qa/>Q&A in Testnet</a></p><p>ex.</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>validator=<span style=color:#1bc5e0>&#34;ayavaloper1r5v6c2ps2qqytdu7zcawwng7d5p5xm5g64cr07&#34;</span></span></span></code></pre></td></tr></table></div></div><h2 id=ayaview-on-validator-node>Ayaview on Validator Node</h2><p>When running ayaview on a validator node, it will now detect that your node is a validator,
and configure itself automatically without the need of a config file.</p><p>So no configuration file is needed, unless off course you intent to observe a different node, or changed ports.</p><h2 id=grpcrpcapi-ports>GRPC/RPC/API Ports</h2><p>If you changed the default port of your node&rsquo;s GRPC (29090) or RPC endpoint (26657), you will have to also change the grpc-address or rpc-address in the config file and pass the config file to ayaview.</p><p>The API part (default 1317) is needed to query WorldMobile specific APIs,
such as the chainfollower information. YOu will have to enable this API in
the ayad configuration app.toml under [api] section.</p><h2 id=system-update-interval>System update Interval</h2><p>Optionally, you can control the interval to update system metrics and node status. Block and consensus updates are updated real-time.</p><h2 id=config-file>Config-File</h2><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span> Bech prefixes <span style=color:#c2ffdf>for</span> network.
</span></span><span style=display:flex><span>bech<span style=color:#ffb8d1>-</span>prefix = <span style=color:#1bc5e0>&#34;aya&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span>validator to watch
</span></span><span style=display:flex><span>validator=<span style=color:#1bc5e0>&#34;&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span> If a network has specific bech prefixes <span style=color:#c2ffdf>for</span> validator and <span style=color:#c2ffdf>for</span> consensus node
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span> and their pubkeys, it<span style=color:#960050;background-color:#1e0010>&#39;</span>s possible to specify them separately.
</span></span><span style=display:flex><span>bech<span style=color:#ffb8d1>-</span>validator<span style=color:#ffb8d1>-</span>prefix = <span style=color:#1bc5e0>&#34;&#34;</span>
</span></span><span style=display:flex><span>bech<span style=color:#ffb8d1>-</span>validator<span style=color:#ffb8d1>-</span>pubkey<span style=color:#ffb8d1>-</span>prefix = <span style=color:#1bc5e0>&#34;&#34;</span>
</span></span><span style=display:flex><span>bech<span style=color:#ffb8d1>-</span>consensus<span style=color:#ffb8d1>-</span>node<span style=color:#ffb8d1>-</span>prefix = <span style=color:#1bc5e0>&#34;&#34;</span>
</span></span><span style=display:flex><span>bech<span style=color:#ffb8d1>-</span>consensus<span style=color:#ffb8d1>-</span>node<span style=color:#ffb8d1>-</span>pubkey<span style=color:#ffb8d1>-</span>prefix = <span style=color:#1bc5e0>&#34;&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span> system update interval, in seconds. Defaults to <span style=color:#c5a3ff>3</span>
</span></span><span style=display:flex><span>interval = <span style=color:#c5a3ff>3</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#c2ffdf>default</span> filter <span style=color:#c2ffdf>for</span> validators display Default is no<span style=color:#ffb8d1>-</span>filtering
</span></span><span style=display:flex><span>filter = <span style=color:#1bc5e0>&#34;&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span> Endpoint config.
</span></span><span style=display:flex><span>[[Endpoint]]
</span></span><span style=display:flex><span>name = <span style=color:#1bc5e0>&#34;endpoint-2&#34;</span>
</span></span><span style=display:flex><span>url = <span style=color:#1bc5e0>&#34;localhost&#34;</span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span> gRPC node address to get signing info and validators info from, defaults to <span style=color:#c5a3ff>29090</span>
</span></span><span style=display:flex><span>grpc_port = <span style=color:#1bc5e0>&#34;29090&#34;</span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span> Tendermint RPC port  to get block info from. Defaults to <span style=color:#c5a3ff>26657.</span>
</span></span><span style=display:flex><span>rpc_port = <span style=color:#1bc5e0>&#34;26657&#34;</span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span> API config port <span style=color:#c2ffdf>for</span> REST API, to enable edit app.toml of ayad 
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span> and <span style=color:#c2ffdf>go</span> to [api] section and change enable to <span style=color:#c2ffdf>true</span>
</span></span><span style=display:flex><span>rest_port = <span style=color:#1bc5e0>&#34;1317&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span> Logging config.
</span></span><span style=display:flex><span>[log]
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span> Log level. Defaults to <span style=color:#960050;background-color:#1e0010>&#39;</span>info<span style=color:#960050;background-color:#1e0010>&#39;</span>, you can set it to <span style=color:#960050;background-color:#1e0010>&#39;</span>debug<span style=color:#960050;background-color:#1e0010>&#39;</span> or even <span style=color:#960050;background-color:#1e0010>&#39;</span>trace<span style=color:#960050;background-color:#1e0010>&#39;</span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span> to make it more verbose.
</span></span><span style=display:flex><span>level = <span style=color:#1bc5e0>&#34;disabled&#34;</span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span> Log all output in JSON except <span style=color:#c2ffdf>for</span> fatal errors, useful <span style=color:#c2ffdf>if</span> you are using
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span> logging aggregation solutions such as ELK stack.
</span></span><span style=display:flex><span>json = <span style=color:#c2ffdf>false</span></span></span></code></pre></td></tr></table></div></div></div><div class=td-content style=page-break-before:always><h1 id=pg-4fefb76022d2197fa024a85fdfd43b42>4 - Configuration</h1><div class=lead>How to configure your Earthnode validator?</div><p><strong>Written by Nodebase Team member <a href=https://twitter.com/EarthNodeChile>EarthNodeChile (Nico Verboven)</a></strong></p></div><div class=td-content><h1 id=pg-069cf7e699926d482c645ecce65f75b4>4.1 - Node Architecture Design</h1><div class=lead>An architectural overview on how to configure your validator and sentry nodes</div><div class=toc><h2>Table Of Contents</h2><nav id=TableOfContents><ul><li><a href=#validator-node-architecture-design>Validator Node Architecture Design</a><ul><li><a href=#common-attacks>Common Attacks</a></li></ul></li><li><a href=#single-node-validator-setup>Single Node Validator Setup</a></li><li><a href=#single-layer-sentry-node-setup>Single Layer Sentry Node Setup</a></li><li><a href=#virtual-private-cloud-vpc><strong>Virtual Private Cloud (VPC)</strong></a></li><li><a href=#public-cloud>Public Cloud</a></li></ul></nav></div><h1 id=validator-node-architecture-design>Validator Node Architecture Design</h1><p>Tendermint relies on the set of validators to secure the network. The role of the validators is to run a full-node and participate in consensus by broadcasting votes which contain cryptographic signatures signed by their private key. Validators are connected to each other through the <strong>p2p</strong> connections.</p><p>Validators are <strong>responsible</strong> for ensuring the that the network can sustain denial of service attacks.</p><h2 id=common-attacks>Common Attacks</h2><ul><li><p>Distributed Denial of Service (DDoS)</p><p>In the WM Chain, a validator node has a fixed IP address and RESRfule API port connected to the internet, which makes it vulnereable. DDoS attacks will halt the vote messages between validators and prevent blocks from being committed. If more than 1/3 of the network suffer from a DDoS attack it can halt the chain.</p></li><li><p>Compromise of keys</p><p>The most valuable asset of a validator are the keys it uses to sign blocks. An attacker who has control of the validator can get anything they want signed by the keys.</p></li></ul><h1 id=single-node-validator-setup>Single Node Validator Setup</h1><p>This approach is deemed unsafe, though you could set firewall white listings to establish links to only trustful peers. If an IP address is discovered it becomes vulnerable, and it is problematic to change.</p><ul><li><strong>Pro</strong>: easy to implement</li><li><strong>Con</strong>: not a flexible setup</li></ul><blockquote><p>=> This approach should be avoided, since it will still make your validator vulnerable.</p></blockquote><figure class="card rounded p-2 td-post-card mb-4 mt-4" style=max-width:610px><img class=card-img-top src=/docs/configuration/architecture/single-node-validator_hu1c7b63cff321f846abdd83cfc6bbf6f4_41905_600x500_fit_catmullrom_3.png width=600 height=280><figcaption class="card-body px-0 pt-2 pb-0"><p class=card-text><small class=text-muted><br>picture</small></p></figcaption></figure><h1 id=single-layer-sentry-node-setup>Single Layer Sentry Node Setup</h1><p>In this setup, the validator node hides behind its two-layer sentry nodes. Only sentry nodes use public internet. The validator nodes do not need a public IP address, so discovery of IP addresses to target with DDos is much harder. Multiple Sentry Nodes can be connected to a a single validator to further mitigate the risk of DDoS Attacks.</p><h1 id=virtual-private-cloud-vpc><strong>Virtual Private Cloud (VPC)</strong></h1><p>If you use a cloud solution, you can setup a Virtual Private Cloud (VPC) to host your relay and validator nodes. VPC networks provide a more secure connection between resources because the inaccessible from the public internet and other VPC networks. Traffic within a VP network doesn&rsquo;t count against bandwidth usage.</p><blockquote><p>In this setup, the relay talks to the validator >node through a secure private connection. The >relay node will then also connect through an ><strong>external_address</strong> with the p2p validator >network.</p></blockquote><figure class="card rounded p-2 td-post-card mb-4 mt-4" style=max-width:610px><img class=card-img-top src=/docs/configuration/architecture/single-layer-sentry-setup_hu705b58fe2a16c6318323457c7558fd9f_53579_600x500_fit_catmullrom_3.png width=600 height=383><figcaption class="card-body px-0 pt-2 pb-0"><p class=card-text><small class=text-muted><br>picture</small></p></figcaption></figure><ul><li><strong>Pro</strong>: Efficient to mitigate DDos attacks</li><li><strong>Con</strong>: Attacker can only attack the validator node, if they gain access to the private network.</li></ul><h1 id=public-cloud>Public Cloud</h1><p>In this setup, the relay and validator node are both connected to the internet. But the validator node is hidden behind the relay node. The relay node will prevent <strong>gossipping</strong> the IP-address of the validator node.</p><blockquote><p>This is less secure than using a VPC network, >since the validator node, although unknown to the >rest of the peers, is still connected to the >public internet and could be discovered.</p></blockquote></div><div class=td-content style=page-break-before:always><h1 id=pg-34c65a51a300bc74a3ddc7cb42410fb1>4.2 - Validator Sentry config.toml</h1><div class=lead>How to setup your validator and sentry nodes</div><div class=toc><h2>Table Of Contents</h2><nav id=TableOfContents><ul><li><a href=#local-configuration-validator-sentry-setup>Local Configuration Validator-Sentry Setup</a><ul><li><a href=#nodeids>NodeIDs</a></li><li><a href=#validator-node-configuration>Validator Node Configuration</a></li><li><a href=#sentry-node-configuration>Sentry Node Configuration</a></li><li><a href=#about-gossipping>About Gossipping</a></li></ul></li></ul></nav></div><h1 id=local-configuration-validator-sentry-setup>Local Configuration Validator-Sentry Setup</h1><p>The validator will only talk to the Sentry nodes that are provided. While sentry nodes have the ability to talk to the validator node on the private channel and talk to public nodes elsewhere on the internet. When initializing nodes there are six parameters in the config.toml which are important</p><ul><li><strong>pex</strong>: boolean value. It tursn the peer exchange reactor (gossip protocol) on or off in a node. When <strong><code>pex=false</code></strong>, only the list of nodes in the <code>persistent_peers</code> list are available for connection.</li><li><strong>persistent_peers</strong>: commma separated list of <a href=#nodeids><strong>nodeid@ip:port</strong></a> values that define a list of peers that expected to be online at all times and the node is expected to be able to connect to them. If some nodes are not available, they will be skipped and later retried for a while, before completely dropping them. If no nodes are available from the list and <strong><code>pex=false</code></strong>, then the node will not be able to join the network.</li><li><strong>private_peer_ids</strong>: comma-separated list of nodeid values, that should not be gossiped at all times. This setting tells which nodes should not be handed out to others</li><li><strong>add_book_strict</strong>: Turn this off if some of the nodes are on a LAN IP. If off, non routable IP address, like addressed on a private network can be added to the address book.</li><li><strong>unconditional_peer_ids</strong>: comma seperated list of nodeIDs. These nodes will be connected no matter the limit of inbound and outbound peers. This is useful when address_books of sentry nodes are full.</li><li><strong>seed_mode</strong>. This is used to jump start other nodes by providing a list of peers that the node can connect to.</li></ul><h2 id=nodeids>NodeIDs</h2><p><strong>Important</strong>: Nodes in <strong><code>persistent_peers</code></strong> have the format nodeID@ip:port.</p><ul><li><p><strong>nodeID</strong>. The ID of your validator. This can be retrieved with the command</p><p><code>ayad tendermint show-node-id --home /opt/aya</code></p><p>or use the nodebase showkeys script
<code>./showkeys.sh</code></p></li><li><p><strong>ip</strong> The IP-address of your relay node</p></li><li><p><strong>port</strong>: The p2p port your relay node is listening on. By default it is 26656</p></li></ul><p>For the <strong><code>private_peer_ids</code></strong> and <strong><code>unconditional_peer_ids</code></strong>, only put the nodeID (without the @ip:port)</p><h2 id=validator-node-configuration>Validator Node Configuration</h2><div class=table-responsive><table class="table-striped table-hover"><thead class=table-dark><tr><th>Config Option</th><th>Setting</th></tr></thead><tbody><tr><td>seed_mode</td><td>false</td></tr><tr><td>pex</td><td>false</td></tr><tr><td>persistent_peers</td><td>list of sentry nodes</td></tr><tr><td>private_peer_ids</td><td>none</td></tr><tr><td>unconditional_peer_ids</td><td>optionally sentry node IDs</td></tr><tr><td>addr_book_strict</td><td>false</td></tr></tbody></table></div><blockquote><p>The validator node should have <code>pex=false</code> so it does not gossip to the entire network. The <code>persistent_peers</code> will be your sentry nodes. <code>private_peer_ids</code> can be left empty, as the validator is not trying to hide who it is communicating with. Setting <code>unconditional_peer_ids</code> is optional for a validator since they will not have a full address book.
Since the validator is on a private network and it will connect to the sentry nodes also on a private network, <code>addr_book_strict=false</code> has to be set.</p></blockquote><h2 id=sentry-node-configuration>Sentry Node Configuration</h2><div class=table-responsive><table class="table-striped table-hover"><thead class=table-dark><tr><th>Config Option</th><th>Setting</th></tr></thead><tbody><tr><td>seed_mode</td><td>false</td></tr><tr><td>pex</td><td>true</td></tr><tr><td>persistent_peers</td><td>validator node, optionally other sentry nodes</td></tr><tr><td>private_peer_ids</td><td>validator node ID</td></tr><tr><td>unconditional_peer_ids</td><td>validator node ID, optionally other sentry node IDs</td></tr><tr><td>addr_book_strict</td><td>true</td></tr><tr><td>external_address</td><td>set this to &ldquo;x.x.x.x:26656&rdquo;, where x.x.x.x is the sentry&rsquo;s node public IP-Address</td></tr></tbody></table></div><blockquote><p>The sentry nodes should be able to talk to the entire network hence why <strong><code>pex=true</code></strong>.
The <strong><code>persistent_peers</code></strong> of a sentry node will be the validator, and optionally other sentry nodes.
The sentry nodes should make sure they do not gossip the validator&rsquo;s ip,
&rsquo; to do this you must put the validator nodeID as a <strong><code>private_peer_ids</code></strong>. The <strong><code>unconditional peer IDs</code></strong> will be the validator node ID and optionally other sentry node IDs. Since the sentry nodea must be able to connect to other p2p peers, <strong><code>addr_book_strict</code></strong> must be set to <strong><code>true</code></strong>, otherwise no inbound connections are made. The <strong><code>external_address</code></strong> needs to be set to your sentry&rsquo;s node public IP-address of the form <strong><code>&ldquo;x.x.x.x:26656&rdquo;</code></strong>. This is the connection address and port that will be gossipped to other nodes for connecting back to your sentry.</p></blockquote><p><strong>IMPORTANT</strong> Do not forget to secure your node&rsquo;s firewalls when setting them up.</p><h2 id=about-gossipping>About Gossipping</h2><p>Nodes will gossip their known peers that are not marked as a private node to other nodes on the p2p network.<br>will be gossipped.</p><p>If you plan to install sentry nodes, the recommendation is to setup the sentry first, then after that install the validator node and directly
connect it to the relay. If your validator node was already installed, it&rsquo;s already gossipped to other peers. And you want to prevent that.
You can fix this by blocking the p2p ports to non-relays with a firewall, and the peers will eventually remove your validator.
But ideally, the installation of a validator should be done with relay setup in mind to make it a complete private installation. This requires some handshaking.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-96d45b64e69d8303860ce76f1d1ba919>4.3 - Used Ports</h1><div class=lead>What ports does <strong>aya</strong> use?</div><p>By default the follow ports are used by <strong>aya</strong></p><ul><li><strong>26656</strong><ul><li>pnp networking port to connect to the tendermint network</li><li>On a validator this port needs to be exposed to sentry nodes</li><li>On a sentry node this port needs to be exposed to the open internet</li><li>This is the port validators and sentries use to communicate to each other</li></ul></li></ul><ul><li><strong>26657</strong><ul><li>Tendermint RPC port.</li><li>Some tools, example querying tools, use this port to query blockchain status.</li><li>You should not directly expose this port.</li><li>This should be shielded from the open internet.</li></ul></li><li><strong>26658</strong><ul><li>Out of process ABCI app</li><li>This should be shielded from the open internet</li></ul></li><li><strong>29090</strong><ul><li>the gRPC server port. This is used for gRPC server communication with</li><li>Cosmos SDK application layer. With this you can query banking, staking and - delegation information from Cosmos SDK.</li><li>Example, some monitoring services might use this communication mechanism since its much faster than RESTful.</li><li>This should be shielded from the open internet</li></ul></li></ul><p>Some optional ports that might be used by <strong>aya</strong> are as follows</p><ul><li><strong>26600</strong><ul><li><a href=https://github.com/tendermint/tendermint/blob/master/docs/nodes/metrics.md>Prometheus</a> stats server</li><li>System stats about the ayad process</li><li>Needs to be enabled in the config file</li><li>This should be shielded from the open internet</li></ul></li><li><strong>1317</strong><ul><li>The REST server</li><li>for automated management of anything you can do with the CLI</li><li>This should be shielded from the open internet.</li></ul></li></ul><blockquote><p>More <a href=https://docs.cosmos.network/main/core/grpc_rest>here</a> on endpoints</p></blockquote><blockquote><p><strong>Note</strong>: Monitoring tools that are installed use additional port, ex Grafana uses port 3000</p></blockquote><blockquote><p><strong>IMPORTANT</strong>:
For ports 1317 and 26657, you way want to use them as a RESTful endpoint by proxy-ing them to an external interface via an http proxy like Nginx or Coddy. The idea is to treat them like a web service for RESTful requests to the RPC ports done over https. You may configure rate limiting on the http proxy or make request with user authentication using a web app. This way you are not exposing the ports directly and your node is protected from receiving too many request suddenly.</p></blockquote></div><div class=td-content style=page-break-before:always><h1 id=pg-c70761960577a158747753fbed114bf5>4.4 - Update Website and Logo</h1><div class=lead>How to Update your ENO&rsquo;s Website link and Logo for them to appear online</div><p><strong>Written by Community Contributer <a href=https://twitter.com/PoolShamrock>Cardano SHAMROCK</a></strong></p><h1 id=update-website-and-description>Update Website And Description</h1><ol><li><p>On your Validator Node run</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ayad tx staking edit-validator --website <span style=color:#1bc5e0>&#34;https://www.example.com&#34;</span>  --details <span style=color:#1bc5e0>&#34;ENO Description&#34;</span> --from ACCOUNT --home /opt/aya</span></span></code></pre></td></tr></table></div></div><blockquote><p>Note: Ensure to replace <strong>ACCOUNT</strong> with your own ENO&rsquo;s Account name, replace <strong><a href=https://www.example.com>https://www.example.com</a></strong> with your own site address, replace <strong>ENO Description</strong> with your own preferred details.</p></blockquote></li></ol><h1 id=update-logo>Update Logo</h1><ol><li><p>Create Account on Keybase: <a href=https://keybase.io>https://keybase.io</a></p></li><li><p>Add logo to Keybase</p></li><li><p>Copy Key from Keybase dashboard</p></li><li><p>On your Validator Node run</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ayad tx staking edit-validator --identity<span style=color:#ffb8d1>=</span>KEYBASEKEY --from ACCOUNT --home /opt/aya</span></span></code></pre></td></tr></table></div></div><blockquote><p>Note: Ensure to replace <strong>ACCOUNT</strong> with your own ENO&rsquo;s Account name, replace <strong>KEYBASEKEY</strong> with the key you obtained while signing up for Keybase</p></blockquote></li></ol></div><div class=td-content style=page-break-before:always><h1 id=pg-fd67629aa01d0ad0f8fb088ba0712f09>4.5 - Firewall Settings</h1><div class=lead>How to configure your firewall in a validator-sentry configuration</div><p>These instructions assume a Validator-Sentry architecture.</p><h2 id=validator-node>Validator Node</h2><p>Apply these firewall settings on your validator node</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>sudo ufw <span style=color:#ff79c6>default</span> deny incoming
</span></span><span style=display:flex><span>sudo ufw <span style=color:#ff79c6>default</span> allow outgoing
</span></span><span style=display:flex><span>sudo ufw allow proto tcp from any to any port <span style=color:#bd93f9>22</span>
</span></span><span style=display:flex><span>sudo ufw allow from &lt;sentry<span style=color:#ff79c6>-</span>ip&gt; to any port <span style=color:#bd93f9>26656</span> proto tcp</span></span></code></pre></td></tr></table></div></div><p>This allows ssh login, you can change <strong>any</strong> to an <strong>IP-address</strong> for higher security,</p><p>Only the sentry nodes can talk to the validator.
Repeat for each sentry node you have, the allow from sentry-ip to port 26656. If you have <code>prometheus=true</code> metrics logging enabled in the <strong>config.toml</strong>, you should allow the prometheus listen port as well.</p><p>When done</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>sudo ufw enable
</span></span><span style=display:flex><span>sudo ufw reload
</span></span><span style=display:flex><span>sudo systemctl restart ssh
</span></span><span style=display:flex><span>sudo ufw status</span></span></code></pre></td></tr></table></div></div><h2 id=sentry-node>Sentry Node</h2><p>Apply these firewall settings on your sentry node</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>sudo ufw <span style=color:#ff79c6>default</span> deny incoming
</span></span><span style=display:flex><span>sudo ufw <span style=color:#ff79c6>default</span> allow outgoing
</span></span><span style=display:flex><span>sudo ufw allow proto tcp from any to any port <span style=color:#bd93f9>22</span>
</span></span><span style=display:flex><span>sudo ufw allow from any to any port <span style=color:#bd93f9>26656</span> proto tcp</span></span></code></pre></td></tr></table></div></div><p>Since the sentry node has pex enabled, connections to the p2p port (26656) need to be allowed, so that
other nodes can talk to the sentry.</p><p>When done</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>sudo ufw enable
</span></span><span style=display:flex><span>sudo ufw reload
</span></span><span style=display:flex><span>sudo systemctl restart ssh
</span></span><span style=display:flex><span>sudo ufw status</span></span></code></pre></td></tr></table></div></div><h2 id=grafana>Grafana</h2><p>Addtional services can be opened such as grafana as follows.<div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>sudo ufw allow from any to any port <span style=color:#bd93f9>3000</span> proto tcp</span></span></code></pre></td></tr></table></div></div></p><p>When done</p><div class=highlight><div style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>sudo ufw enable
</span></span><span style=display:flex><span>sudo ufw reload
</span></span><span style=display:flex><span>sudo systemctl restart ssh
</span></span><span style=display:flex><span>sudo ufw status</span></span></code></pre></td></tr></table></div></div><h2 id=prometheus>Prometheus</h2><p>If you use Prometheus metrics, you should consult with the metrics exporter tool which port it uses for exporting
metrics. Prometheus specific setup recommendations and installation instructions will be released shortly,
when the nodebase releases its nodebase monitoring service.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-dad47267c998683619539ddbb298e9c4>5 - Testnet</h1><div class=lead>Q&A all things related to Testnet</div></div><div class=td-content><h1 id=pg-148dacc578cf1ee7ce81251de7e05bf2>5.1 - Jailing</h1><div class=lead>What is jailing and how can I unjail?</div><div class=toc><h2>Table Of Contents</h2><nav id=TableOfContents><ul><li><ul><li><a href=#what-is-jailing>What is Jailing?</a></li><li><a href=#when-am-i-jailed>When am I Jailed?</a></li><li><a href=#network-parameters>Network Parameters</a></li><li><a href=#network-parameters-aya>Network Parameters Aya</a></li><li><a href=#slashing-mechanism>Slashing Mechanism:</a><ul><li><a href=#liveness-faults>Liveness Faults</a></li><li><a href=#byzantine-faults>Byzantine Faults</a></li></ul></li><li><a href=#un-jailing>Un-jailing</a><ul><li><a href=#commands-to-unjail>Commands to unjail</a></li><li><a href=#source>Source</a></li></ul></li></ul></li></ul></nav></div><blockquote><p>TL;DR: If a validator looses sync with the blockchain, they are punished (slashed) and delegator rewards are reduced.
This is an incentive for the validator to monitor and maintaining their nodes on good infrastructure.</p></blockquote><h2 id=what-is-jailing>What is Jailing?</h2><p>Validators are the active actors that ensure the integrity and security of the network.
Their tasks consist — in a nutshell — of validating the transactions, voting on the next state of the blockchain and committing it when a consensus is reached.</p><p>To maintain a high level of security and performance on the network, a validator is supposed to keep signing and committing blocks permanently.
However, a validator can fail to commit blocks due to multiple reasons, such as a connection loss or a server failure.
To protect the network, and prevent any performance drop, an inactive validator needs to be eliminated from the validator list. In Cosmos based chains this process of temporarily eliminating a validator is called “Jailing”.</p><h2 id=when-am-i-jailed>When am I Jailed?</h2><p>A validator is jailed when they make <strong>liveness or Byzantine fault</strong>, when a validator is jailed, it will no longer be considered as an active validator until they are un-jailed. Furthermore, it cannot be un-jailed before downtime_jail_duration. This downtime_jail_duration is a network parameter which can be configured during genesis.</p><blockquote><p>Important:
When a validator is jailed because of a byzantine fault, their validator public key is added to a list of permanently banned validators and cannot re-join the network as a validator with the same public key, see staking tombstone</p></blockquote><h2 id=network-parameters>Network Parameters</h2><p>The consensus params define the conditions for Jailing.</p><ul><li><strong>signed_blocks_window</strong>: Number of blocks for which the liveness is calculated for uptime tracking</li><li><strong>min_signed_per_window</strong>: Maximum percentage of blocks with faulty/missed validations allowed for an account in last; signed_blocks_window blocks before it gets deactivated;</li><li><strong>downtime_jail_duration</strong>: Duration for Jailing</li><li><strong>slash_fraction_double_sign</strong>: Percentage of funds being slashed when validator makes a byzantine fault</li><li><strong>slash_fraction_downtime</strong> : Percentage of funds being slashed when a validator is non-live.</li></ul><h2 id=network-parameters-aya>Network Parameters Aya</h2><p>These parameters are in the genesis of the Aya-Sidechain.<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>signed_blocks_window : <span style=color:#c5a3ff>100</span>
</span></span><span style=display:flex><span>min_signed_per_window : <span style=color:#c5a3ff>0.5</span>
</span></span><span style=display:flex><span>downtime_jail_duration :  <span style=color:#c5a3ff>600</span>s
</span></span><span style=display:flex><span>slash_fraction_double_sign: <span style=color:#c5a3ff>0.05</span>
</span></span><span style=display:flex><span>slash_fraction_downtime: <span style=color:#c5a3ff>0.01</span></span></span></code></pre></td></tr></table></div></div></p><h2 id=slashing-mechanism>Slashing Mechanism:</h2><p>Punishments for a validator are triggered when they either make a byzantine fault or become non-live.</p><h3 id=liveness-faults>Liveness Faults</h3><p>A validator is said to be non-live when they fail to sign at least **min_signed_per_window blocks **(in percentage) in the last signed_blocks_window blocks successfully. signed_blocks_window and min_signed_per_window are network parameters and can be configured during genesis and can be updated during runtime by the governance module.</p><pre><code>For example, if block_signing_window is 100 blocks and min_signed_per_window is 0.5, 
validator will be marked as non-live and jailed
if they fail to successfully sign at least 100*0.5=50 blocks
in last 100 blocks.
</code></pre><p>When a validator fails to successfully sign missed_block_threshold blocks in last block_signing_window blocks, it is immediately jailed and punished by deducting funds from their bonded and unbonded amount and removing them from active validator set. The funds to be deducted are calculated based on slash_fraction_downtime.</p><h3 id=byzantine-faults>Byzantine Faults</h3><p>A validator is said to make a byzantine fault when they sign conflicting messages/blocks at the same height and round. Tendermint has mechanisms to publish evidence of validators that signed conflicting votes so they can be punished by the slashing module. For example:</p><p>Validator who votes for two different blocks within a single round (&ldquo;Equivocation validator&rdquo;/ &ldquo;Double signing&rdquo;);</p><p>Validator who signs commit messages for arbitrary application state ( &ldquo;Lunatic validator&rdquo;).</p><blockquote><p>The evidence of a set of validators attempting to mislead a light client can also be detected and captured. However, even the Amnesia attack can be detected, punishment can not be applied at this stage, as we can not deduce the malicious validators.</p></blockquote><h2 id=un-jailing>Un-jailing</h2><p>When a jailed validator wishes to resume normal operations (after downtime_jail_duration has passed), they can create anunjail transaction which marks them as un-jailed. Validator will then rejoin the validator set once it has been successful un-jailed</p><blockquote><p>If the slashing mechanism is reducing your stake/voting power to zero you cannot unjail. In this case it is needed to increase your unslashed stake to regain voting power</p></blockquote><h3 id=commands-to-unjail>Commands to unjail</h3><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>ayad tx slashing unjail <span style=color:#ffb8d1>--</span>from &lt;aliasOfYourAccount&gt; <span style=color:#ffb8d1>--</span>home <span style=color:#ffb8d1>/</span>opt<span style=color:#ffb8d1>/</span>aya</span></span></code></pre></td></tr></table></div></div><blockquote><p>aliasOfYourAccount is the account name you used when installing the validator. The -a argument.</p></blockquote><p>If you cannot unjail due to zero stake you first need to self-delegate the additional token we sent to you before performing the unjailing<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>ayad tx staking delegate &lt;<span style=color:#ceb1ff>validatorAddress</span>(the ayavaloper one)&gt; <span style=color:#c5a3ff>1</span>uswmt <span style=color:#ffb8d1>--</span>home <span style=color:#ffb8d1>/</span>opt<span style=color:#ffb8d1>/</span>aya<span style=color:#ffb8d1>/</span> <span style=color:#ffb8d1>--</span>from aliasOfYourAccount</span></span></code></pre></td></tr></table></div></div></p><p><strong>How can I find my validator address?</strong></p><p>You can easily get the validator address using the Nodebase tool script showkeys.sh, located <a href=/docs/tools/>here</a></p><h3 id=source>Source</h3><p><a href=https://crypto.org/docs/chain-details/module_slashing.html#overview>https://crypto.org/docs/chain-details/module_slashing.html#overview</a>
slashing module | Crypto.org Chain</p></div><div class=td-content style=page-break-before:always><h1 id=pg-17db9e64bd27599e7ad87c4028d0f289>5.2 - Q&A</h1><div class=lead>Questions and Answers all things Testnet</div><div class=toc><h2>Table Of Contents</h2><nav id=TableOfContents><ul><li><a href=#i-dont-have-a-cosmovisor-service>I don&rsquo;t have a cosmovisor service?</a></li><li><a href=#what-is-my-validator-address>What is my validator address?</a></li><li><a href=#how-to-add-a-profile-image-to-your-validator-for-wm-explorer>How to add a profile image to your validator for WM Explorer?</a></li></ul></nav></div><h1 id=i-dont-have-a-cosmovisor-service>I don&rsquo;t have a cosmovisor service?</h1><p>The cosmovisor service is a daemon process to keep your node running. When the ayad process would exit, the service would automatically restart. So it has a vital function to keep your validator running healthy.</p><p>The cosmovisor service is installed during the node installation (install_node.sh), after your registered your node with the ENNFT. If you failed to register the node, and stopped the installation script, the installation didnt complete.</p><p>You can still register the ENNFT following the published instructions, but the
cosmovisor service you would need to configure manually.</p><p>ayafix.sh is also part of the nodebase <a href=/docs/tools/>tools</a></p><p>Or you can install it manually from here as follows:</p><ol><li>copy the content below to a file ex. ayafix.sh</li><li>chmod +x ayafix.sh</li><li>sudo ./ayafix.sh</li></ol><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span>!<span style=color:#ffb8d1>/</span>usr<span style=color:#ffb8d1>/</span>bin<span style=color:#ffb8d1>/</span>env bash
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>aya_home=<span style=color:#ffb8d1>/</span>opt<span style=color:#ffb8d1>/</span>aya
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>echo <span style=color:#ffb8d1>-</span>e <span style=color:#1bc5e0>&#34;-- Configuring your node to start on server startup\n&#34;</span>
</span></span><span style=display:flex><span>sudo ln <span style=color:#ffb8d1>-</span>s <span style=color:#960050;background-color:#1e0010>$</span>aya_home<span style=color:#ffb8d1>/</span>cosmovisor<span style=color:#ffb8d1>/</span>current<span style=color:#ffb8d1>/</span>bin<span style=color:#ffb8d1>/</span>ayad <span style=color:#ffb8d1>/</span>usr<span style=color:#ffb8d1>/</span>local<span style=color:#ffb8d1>/</span>bin<span style=color:#ffb8d1>/</span>ayad &gt;<span style=color:#ffb8d1>/</span>dev<span style=color:#ffb8d1>/</span>null <span style=color:#c5a3ff>2</span>&gt;<span style=color:#ffb8d1>&amp;</span><span style=color:#c5a3ff>1</span>
</span></span><span style=display:flex><span>sudo ln <span style=color:#ffb8d1>-</span>s <span style=color:#960050;background-color:#1e0010>$</span>aya_home<span style=color:#ffb8d1>/</span>cosmovisor<span style=color:#ffb8d1>/</span>cosmovisor <span style=color:#ffb8d1>/</span>usr<span style=color:#ffb8d1>/</span>local<span style=color:#ffb8d1>/</span>bin<span style=color:#ffb8d1>/</span>cosmovisor &gt;<span style=color:#ffb8d1>/</span>dev<span style=color:#ffb8d1>/</span>null <span style=color:#c5a3ff>2</span>&gt;<span style=color:#ffb8d1>&amp;</span><span style=color:#c5a3ff>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>sudo tee <span style=color:#ffb8d1>/</span>etc<span style=color:#ffb8d1>/</span>systemd<span style=color:#ffb8d1>/</span>system<span style=color:#ffb8d1>/</span>cosmovisor.service &gt; <span style=color:#ffb8d1>/</span>dev<span style=color:#ffb8d1>/</span>null <span style=color:#ffb8d1>&lt;&lt;</span>EOF
</span></span><span style=display:flex><span>[Unit]
</span></span><span style=display:flex><span>Description=Aya Node
</span></span><span style=display:flex><span>After=network<span style=color:#ffb8d1>-</span>online.target
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[Service]
</span></span><span style=display:flex><span>User=<span style=color:#960050;background-color:#1e0010>$</span>USER
</span></span><span style=display:flex><span>ExecStart=<span style=color:#960050;background-color:#1e0010>$</span>(which cosmovisor) run start <span style=color:#ffb8d1>--</span>home <span style=color:#1bc5e0>&#34;$aya_home&#34;</span> <span style=color:#ffb8d1>&amp;&gt;&gt;</span><span style=color:#1bc5e0>&#34;$aya_home&#34;</span><span style=color:#ffb8d1>/</span>logs<span style=color:#ffb8d1>/</span>aya.log
</span></span><span style=display:flex><span>Restart=always
</span></span><span style=display:flex><span>RestartSec=<span style=color:#c5a3ff>3</span>
</span></span><span style=display:flex><span>LimitNOFILE=<span style=color:#c5a3ff>4096</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Environment=<span style=color:#1bc5e0>&#34;/opt/aya&#34;</span>
</span></span><span style=display:flex><span>Environment=<span style=color:#1bc5e0>&#34;DAEMON_NAME=ayad&#34;</span>
</span></span><span style=display:flex><span>Environment=<span style=color:#1bc5e0>&#34;DAEMON_DATA_BACKUP_DIR=/opt/aya/backup&#34;</span>
</span></span><span style=display:flex><span>Environment=<span style=color:#1bc5e0>&#34;DAEMON_ALLOW_DOWNLOAD_BINARIES=true&#34;</span>
</span></span><span style=display:flex><span>Environment=<span style=color:#1bc5e0>&#34;DAEMON_RESTART_AFTER_UPGRADE=true&#34;</span>
</span></span><span style=display:flex><span>Environment=<span style=color:#1bc5e0>&#34;DAEMON_HOME=/opt/aya&#34;</span>
</span></span><span style=display:flex><span>[Install]
</span></span><span style=display:flex><span>WantedBy=multi<span style=color:#ffb8d1>-</span>user.target
</span></span><span style=display:flex><span>EOF
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>sudo systemctl daemon<span style=color:#ffb8d1>-</span>reload
</span></span><span style=display:flex><span>sudo systemctl enable cosmovisor</span></span></code></pre></td></tr></table></div></div><h1 id=what-is-my-validator-address>What is my validator address?</h1><p>The validator address is a function of the validator&rsquo;s public key, which is used to sign prevotes and precommits.</p><p>Cosmos uses a bech32 encoded validator address, which is a more human-readable version of the same public key.</p><p>To retrieve your node&rsquo;s address you can use our script <strong>addresses.sh</strong> in <a href=/docs/tools/>tools</a> or do it manually as follows.</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>ayad keys list <span style=color:#ffb8d1>--</span>home <span style=color:#ffb8d1>/</span>opt<span style=color:#ffb8d1>/</span>aya
</span></span><span style=display:flex><span>Enter keyring passphrase:</span></span></code></pre></td></tr></table></div></div><p>The output will look like:<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#ffb8d1>-</span> address: aya1fnxullwf0r72hlmjyyuhjca23pl09a7rf5f752
</span></span><span style=display:flex><span>  name: EarthNodeChile
</span></span><span style=display:flex><span>  pubkey: <span style=color:#960050;background-color:#1e0010>&#39;</span>{<span style=color:#1bc5e0>&#34;@type&#34;</span>:<span style=color:#1bc5e0>&#34;/cosmos.crypto.secp256k1.PubKey&#34;</span>,<span style=color:#1bc5e0>&#34;key&#34;</span>:<span style=color:#1bc5e0>&#34;A7tC1Yexx3ithv611VdPEySAffVP6nqTNvN9iKX1buMr&#34;</span>}<span style=color:#960050;background-color:#1e0010>&#39;</span>
</span></span><span style=display:flex><span>  <span style=color:#c2ffdf>type</span>: local</span></span></code></pre></td></tr></table></div></div></p><p>With the address get the HEX presentation of it</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>ayad keys parse aya1fnxullwf0r72hlmjyyuhjca23pl09a7rf5f752 <span style=color:#ffb8d1>--</span>home <span style=color:#ffb8d1>/</span>opt<span style=color:#ffb8d1>/</span>aya</span></span></code></pre></td></tr></table></div></div><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>bytes: <span style=color:#c5a3ff>4</span>CCDCFFDC978FCABFF7221397963AA887EF2F7C3
</span></span><span style=display:flex><span>human: aya</span></span></code></pre></td></tr></table></div></div><p>Now parse the HEX address to get all bech32 representations</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>ayad keys parse <span style=color:#c5a3ff>4</span>CCDCFFDC978FCABFF7221397963AA887EF2F7C3 <span style=color:#ffb8d1>--</span>home <span style=color:#ffb8d1>/</span>opt<span style=color:#ffb8d1>/</span>aya</span></span></code></pre></td></tr></table></div></div><p>The third entry with prefix <strong>ayavaloper</strong> is your validator address</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>formats:
</span></span><span style=display:flex><span><span style=color:#ffb8d1>-</span> aya1fnxullwf0r72hlmjyyuhjca23pl09a7rf5f752
</span></span><span style=display:flex><span><span style=color:#ffb8d1>-</span> ayapub1fnxullwf0r72hlmjyyuhjca23pl09a7rklpry4
</span></span><span style=display:flex><span><span style=color:#ffb8d1>-</span> ayavaloper1fnxullwf0r72hlmjyyuhjca23pl09a7re7t8j5
</span></span><span style=display:flex><span><span style=color:#ffb8d1>-</span> ayavaloperpub1fnxullwf0r72hlmjyyuhjca23pl09a7rng04ad
</span></span><span style=display:flex><span><span style=color:#ffb8d1>-</span> ayavalcons1fnxullwf0r72hlmjyyuhjca23pl09a7rddcm74
</span></span><span style=display:flex><span><span style=color:#ffb8d1>-</span> ayavalconspub1fnxullwf0r72hlmjyyuhjca23pl09a7rzv5ahu</span></span></code></pre></td></tr></table></div></div><h1 id=how-to-add-a-profile-image-to-your-validator-for-wm-explorer>How to add a profile image to your validator for WM Explorer?</h1><p><strong>Written by Nodebase Team member <a href=https://twitter.com/BKINDSPO>Gertjan</a></strong></p><ol><li>Go to the website <a href=https://keybase.io>https://keybase.io</a></li><li>Create an account. This can be done by going to &ldquo;Login&rdquo; and after that choosing for &ldquo;Join Keybase&rdquo;</li><li>Test if your account is working properly</li><li>Logout of your account. On the home page of Keybase click the button &ldquo;Install&rdquo;</li><li>Select the correct operating system and install the software</li><li>Start the Keybase client on you computer and login with the account you created in step 2</li><li>Change your profile image. This is the image that will show up in WM Explorer as your validator image</li><li>Create a PGP key by selecting &ldquo;Add a PGP key&rdquo;</li><li>Choose &ldquo;Get a new PGP key&rdquo;</li><li>Fill in the form and click &ldquo;Let the math begin&rdquo;</li><li>Click on the button &ldquo;Done&rdquo; in the dialog after</li><li>You can now see a 16 character PGP key</li><li>On your validator run the following command:</li></ol><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>ayad tx staking edit<span style=color:#ffb8d1>-</span>validator <span style=color:#ffb8d1>--</span>identity=<span style=color:#1bc5e0>&#34;16 character PGP key&#34;</span> <span style=color:#ffb8d1>--</span>from &lt;operator name&gt; <span style=color:#ffb8d1>--</span>home <span style=color:#ffb8d1>/</span>opt<span style=color:#ffb8d1>/</span>aya<span style=color:#ffb8d1>/</span></span></span></code></pre></td></tr></table></div></div><ol start=14><li>A transaction hash (txhash) is returned. Check in WM Explorer if the transaction was successful. If not, run
the command in step 13 again</li><li>After a successful transaction, your profile image will appear in WM Explorer</li></ol></div><div class=td-content style=page-break-before:always><h1 id=pg-8dbd4e302cd86a4d0f71f71ce3b300de>6 - Tutorials</h1><div class=lead>Full step-by-step guides.</div></div><div class=td-content><h1 id=pg-acd09a1aafbebae8a61dc8539fbd5f35>6.1 - 1. Sentry Node Manual Installation</h1><div class=lead>Full Installation Guide for installing a sentry node</div><p><strong>Written by Nodebase Team member <a href=https://twitter.com/intertreeJK>intertree (Johnny Kelly)</a></strong></p><h1 id=introduction>Introduction</h1><p>The following guide will take you through all manual steps to be taken to have a fully running Sentry Node ready to be attached to your later installed Validator.</p><p>This guide assumes you have already followed steps to set up a new user named wmt to run the Sentry Node software, and that you have taken proper steps to secure this username from being logged into from external machines.</p><blockquote><p><strong>Note: DO NOT follow this guide while logged in as the root user on your machine. This is bad practice. Make a sudo group user named wmt FIRST, and configure secure login to it using SSH keys.</strong></p></blockquote><p>Now, with that warning out of the way, we shall proceed with the guide!</p><h1 id=step-by-step-installation-guide>Step-By-Step Installation Guide</h1><ol><li><p>Logged in as user wmt we first start by making the base directory structure for World Mobile&rsquo;s ayad and Cosmovisor binaries that are to be installed on our Node.</p><p>We do this by entering the following group of commands<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo mkdir -p /opt/aya
</span></span><span style=display:flex><span>sudo chown <span style=color:#1bc5e0>&#34;</span><span style=color:#1bc5e0>${</span>USER<span style=color:#1bc5e0>}</span><span style=color:#1bc5e0>:</span><span style=color:#1bc5e0>${</span>USER<span style=color:#1bc5e0>}</span><span style=color:#1bc5e0>&#34;</span> /opt/aya
</span></span><span style=display:flex><span>mkdir -p /opt/aya/cosmovisor/genesis/bin
</span></span><span style=display:flex><span>mkdir -p /opt/aya/backup
</span></span><span style=display:flex><span>mkdir -p /opt/aya/logs
</span></span><span style=display:flex><span>mkdir -p /opt/aya/config</span></span></code></pre></td></tr></table></div></div></p></li><li><p>Next we set some environment variables so that further installation steps can be simplified.</p><p>We do this by entering the following group of commands<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>CHAIN_ID<span style=color:#ffb8d1>=</span><span style=color:#1bc5e0>&#34;aya_preview_501&#34;</span>
</span></span><span style=display:flex><span>aya_home<span style=color:#ffb8d1>=</span>/opt/aya
</span></span><span style=display:flex><span>cosmovisor_logfile<span style=color:#ffb8d1>=</span><span style=color:#1bc5e0>${</span>aya_home<span style=color:#1bc5e0>}</span>/logs/cosmovisor.log
</span></span><span style=display:flex><span>sentry_setup_json<span style=color:#ffb8d1>=</span><span style=color:#1bc5e0>${</span>aya_home<span style=color:#1bc5e0>}</span>/sentry.json
</span></span><span style=display:flex><span>bootstrap_node<span style=color:#ffb8d1>=</span>true</span></span></code></pre></td></tr></table></div></div></p></li><li><p>Now we set up our Node&rsquo;s Moniker (a friendly name for our Node to help identify it)</p><p>We do this by entering the following command<br><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>moniker<span style=color:#ffb8d1>=</span><span style=color:#1bc5e0>&#39;&lt;moniker&gt;&#39;</span></span></span></code></pre></td></tr></table></div></div></p><blockquote><p>Note: We replace <code>&lt;moniker></code> with our own chosen name at this point, removing the surrounding &lt;></p></blockquote></li><li><p>Now we install a required prerequisite package (jq) for the successful completion of installation steps.</p><p>We do this by entering the following command<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt-get -q install jq -y</span></span></code></pre></td></tr></table></div></div></p></li><li><p>Now we create an installation directory for the EarthNode installation files, navigate to it, download the installer zip file, install the unzip command (if not already installed to our OS), and extract the earthnode_installer archive.</p><p>We do this by entering the following group of commands<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mkdir ~/earthnode_installer
</span></span><span style=display:flex><span>cd ~/earthnode_installer
</span></span><span style=display:flex><span>wget https://github.com/max-hontar/aya-preview-binaries/releases/download/v0.4.1/aya_preview_501_installer_2023_09_04.zip
</span></span><span style=display:flex><span>sudo apt-get -q install unzip -y
</span></span><span style=display:flex><span>unzip aya_preview_501_installer_2023_09_04.zip
</span></span><span style=display:flex><span>rm aya_preview_501_installer_2023_09_04.zip</span></span></code></pre></td></tr></table></div></div></p></li><li><p>Now we confirm that the included binaries for ayad and cosmovisor match their release_checksums values as provided by World Mobile. Check that the output of both commands match one another.</p><p>We do this by entering the following group of commands<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sha256sum ayad cosmovisor
</span></span><span style=display:flex><span>cat release_checksums </span></span></code></pre></td></tr></table></div></div></p></li><li><p>Following this confirmation step, we copy the ayad and cosmovisor binary files to their home locations for use in future operations.</p><p>We do this by entering the following group of commands<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cp ~/earthnode_installer/ayad <span style=color:#1bc5e0>&#34;</span><span style=color:#1bc5e0>${</span>aya_home<span style=color:#1bc5e0>}</span><span style=color:#1bc5e0>&#34;</span>/cosmovisor/genesis/bin/ayad
</span></span><span style=display:flex><span>cp ~/earthnode_installer/cosmovisor <span style=color:#1bc5e0>&#34;</span><span style=color:#1bc5e0>${</span>aya_home<span style=color:#1bc5e0>}</span><span style=color:#1bc5e0>&#34;</span>/cosmovisor/cosmovisor</span></span></code></pre></td></tr></table></div></div></p></li><li><p>Now we initialise ayad to create all of the required configuration and set up files needed for running the cosmovisor and ayad binaries.</p><p>We do this by entering the following command<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>./ayad init <span style=color:#1bc5e0>&#34;</span><span style=color:#1bc5e0>${</span>moniker<span style=color:#1bc5e0>}</span><span style=color:#1bc5e0>&#34;</span> --chain-id $CHAIN_ID --home <span style=color:#1bc5e0>${</span>aya_home<span style=color:#1bc5e0>}</span></span></span></code></pre></td></tr></table></div></div></p><p>We have now populated the /opt/aya directory and its subdirectories with the necessary files to configure our Node.</p></li><li><p>Next we copy across the genesis.json file used to kickstart the aya_preview_501 Blockchain Connection.</p><p>We do this by entering the following command<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cp ~/earthnode_installer/genesis.json <span style=color:#1bc5e0>&#34;</span><span style=color:#1bc5e0>${</span>aya_home<span style=color:#1bc5e0>}</span><span style=color:#1bc5e0>&#34;</span>/config/genesis.json</span></span></code></pre></td></tr></table></div></div></p></li><li><p>Before running our Sentry Node for the first time there are some initial configuration changes that need to be made to allow for smooth operation and connection the to aya_preview_501 Blockchain, and to ensure that connections between our own ENO Infrastructure&rsquo;s Nodes remain robust.</p><p>So now we navigate to the aya config folder and open the config.toml file for our Sentry Node to make these changes.</p><p>We do this by entering the following group of commands<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd /opt/aya/config
</span></span><span style=display:flex><span>nano config.toml </span></span></code></pre></td></tr></table></div></div></p><p>We are now in the nano text editor, looking at the config.toml file contents for our Sentry Node.</p><blockquote><p>Note: It is possible to search for the fields we need to edit more quickly by copying them from the below steps, pressing ctrl+w inside of nano in our terminal window, right clicking on the window, pasting the names of the values we need to edit, and pressing enter to jump to them.</p><p>We can also remove text blocks from a document that we wish to replace with new text blocks by holding down shift, selecting the existing rows we wish to remove, and then pressing ctrl+k to remove them.</p><p>We can then select and copy the replacement text from the steps shown in this guide below, and right click and paste the new settings into the terminal window.</p><p>We can undo any mistakes we&rsquo;ve made while working inside nano by pressing alt+u</p></blockquote><p>We now make the necessary changes to this file as follows</p><ul><li><p>Change the <strong>statesync</strong> option to be <strong>enable = true</strong> instead of <strong>false</strong><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#b0bec5>#######################################################</span>
</span></span><span style=display:flex><span><span style=color:#b0bec5>###         State Sync Configuration Options        ###</span>
</span></span><span style=display:flex><span><span style=color:#b0bec5>#######################################################</span>
</span></span><span style=display:flex><span><span style=color:#ffb8d1>[</span>statesync<span style=color:#ffb8d1>]</span>
</span></span><span style=display:flex><span><span style=color:#b0bec5># State sync rapidly bootstraps a new node by discovering, fetching, and restoring a state machine</span>
</span></span><span style=display:flex><span><span style=color:#b0bec5># snapshot from peers instead of fetching and replaying historical blocks. Requires some peers in</span>
</span></span><span style=display:flex><span><span style=color:#b0bec5># the network to take and serve state machine snapshots. State sync is not attempted if the node</span>
</span></span><span style=display:flex><span><span style=color:#b0bec5># has any local state (LastBlockHeight &gt; 0). The node will have a truncated block history,</span>
</span></span><span style=display:flex><span><span style=color:#b0bec5># starting from the height of the snapshot.</span>
</span></span><span style=display:flex><span>enable <span style=color:#ffb8d1>=</span> true </span></span></code></pre></td></tr></table></div></div></p></li><li><p>Change the <strong>addr_book_strict</strong> option to be <strong>addr_book_strict = false</strong> instead of <strong>true</strong><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#b0bec5># Set true for strict address routability rules</span>
</span></span><span style=display:flex><span><span style=color:#b0bec5># Set false for private or local networks</span>
</span></span><span style=display:flex><span>addr_book_strict <span style=color:#ffb8d1>=</span> false</span></span></code></pre></td></tr></table></div></div></p></li><li><p>Set the <strong>log_level</strong> to <strong>&ldquo;error&rdquo;</strong> instead of <strong>&ldquo;info&rdquo;</strong><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>log_level <span style=color:#ffb8d1>=</span> <span style=color:#1bc5e0>&#34;error&#34;</span></span></span></code></pre></td></tr></table></div></div></p></li><li><p>Set the public nodes supplied by World Mobile, that provide a statesync of historical Blockchain Data to our new Sentry Node, as persistent_peers<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#b0bec5># Comma separated list of nodes to keep persistent connections to</span>
</span></span><span style=display:flex><span>persistent_peers <span style=color:#ffb8d1>=</span> <span style=color:#1bc5e0>&#34;692f6bb765ed3170db4fb5f5dfd27c54503d52d3@peer1-501.worldmobilelabs.com:26656,d1da4b1ad17ea35cf8c1713959b430a95743afcd@peer2-501.worldmobilelabs.com:26656&#34;</span></span></span></code></pre></td></tr></table></div></div></p></li><li><p>Set the public seed node supplied by World Mobile, that helps keep your Sentry Node&rsquo;s P2P address book file up to date, as a seed in <strong>seeds</strong><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#b0bec5># Comma separated list of seed nodes to connect to</span>
</span></span><span style=display:flex><span>seeds <span style=color:#ffb8d1>=</span> <span style=color:#1bc5e0>&#34;7836955a4d42ed85a6adb13ae4f96806ab2fd9b2@peer3-501.worldmobilelabs.com:26656&#34;</span>    </span></span></code></pre></td></tr></table></div></div></p></li><li><p>Set the <strong>external_address = &ldquo;&rdquo;</strong> field to have our own Node&rsquo;s Public IP address followed by our Node&rsquo;s local connection Port (default 26656), so that it can broadcast this information to other nodes over P2P (replace x.x.x.x with our Node&rsquo;s Public IP).<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#b0bec5># Address to advertise to peers for them to dial</span>
</span></span><span style=display:flex><span><span style=color:#b0bec5># If empty, will use the same port as the laddr,</span>
</span></span><span style=display:flex><span><span style=color:#b0bec5># and will introspect on the listener or use UPnP</span>
</span></span><span style=display:flex><span><span style=color:#b0bec5># to figure out the address. ip and port are required</span>
</span></span><span style=display:flex><span><span style=color:#b0bec5># example: 159.89.10.97:26656</span>
</span></span><span style=display:flex><span>external_address <span style=color:#ffb8d1>=</span> <span style=color:#1bc5e0>&#34;x.x.x.x:26656&#34;</span></span></span></code></pre></td></tr></table></div></div></p></li></ul><p>At this point the initial editing work to our <strong>config.toml</strong> file is done, and it can now be saved with these changes.</p><p>To save the <strong>config.toml</strong> file within nano editor we press <strong>ctrl+x</strong> and then <strong>press y</strong>, followed by <strong>enter</strong>. This will save the file with the same filename as before.</p><p>Next we need to make some initial changes to the <strong>app.toml</strong> file contents for our Sentry Node.</p><p>Luckily, the app.toml file we need to edit is in the same directory as config.toml.</p><p>So we do this by entering the following command</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>nano app.toml</span></span></code></pre></td></tr></table></div></div><p>We now make the necessary changes to this file as follows</p><ul><li>Replace GRPC port to not overlap with standard Prometheus port, replacing 9090 with 29090<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#b0bec5># Address defines the gRPC server address to bind to.</span>
</span></span><span style=display:flex><span>address <span style=color:#ffb8d1>=</span> <span style=color:#1bc5e0>&#34;localhost:29090&#34;</span></span></span></code></pre></td></tr></table></div></div></li><li>make sure the gas price units for our network to be 0uswmt<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#b0bec5># The minimum gas prices a validator is willing to accept for processing a</span>
</span></span><span style=display:flex><span><span style=color:#b0bec5># transaction. A transaction&#39;s fees must meet the minimum of any denomination</span>
</span></span><span style=display:flex><span><span style=color:#b0bec5># specified in this config (e.g. 0.25token1;0.0001token2).</span>
</span></span><span style=display:flex><span>minimum-gas-prices <span style=color:#ffb8d1>=</span> <span style=color:#1bc5e0>&#34;0uswmt&#34;</span></span></span></code></pre></td></tr></table></div></div></li><li>Change the API Configuration section <strong>enable</strong> option to be <strong>enable = true</strong> instead of <strong>false</strong><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#ffb8d1>[</span>api<span style=color:#ffb8d1>]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#b0bec5># Enable defines if the API server should be enabled.</span>
</span></span><span style=display:flex><span>enable <span style=color:#ffb8d1>=</span> true</span></span></code></pre></td></tr></table></div></div></li></ul><p>At this point the initial editing work to our <strong>app.toml</strong> file is done, and it can now be saved with these changes.</p><p>To save the app.toml file within nano editor we press <strong>ctrl+x</strong> and then <strong>press y</strong>, followed by <strong>enter</strong>. This will save the file with the same filename as before.</p></li><li><p>Now we need to export some environment variables to get our system ready to run our Sentry Node for the first time.</p><p>We do this by entering the following group of commands<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>export DAEMON_NAME<span style=color:#ffb8d1>=</span>ayad
</span></span><span style=display:flex><span>export DAEMON_HOME<span style=color:#ffb8d1>=</span><span style=color:#1bc5e0>&#34;</span><span style=color:#1bc5e0>${</span>aya_home<span style=color:#1bc5e0>}</span><span style=color:#1bc5e0>&#34;</span>
</span></span><span style=display:flex><span>export DAEMON_DATA_BACKUP_DIR<span style=color:#ffb8d1>=</span><span style=color:#1bc5e0>&#34;</span><span style=color:#1bc5e0>${</span>aya_home<span style=color:#1bc5e0>}</span><span style=color:#1bc5e0>&#34;</span>/backup
</span></span><span style=display:flex><span>export DAEMON_RESTART_AFTER_UPGRADE<span style=color:#ffb8d1>=</span>true
</span></span><span style=display:flex><span>export DAEMON_ALLOW_DOWNLOAD_BINARIES<span style=color:#ffb8d1>=</span>true
</span></span><span style=display:flex><span>ulimit -Sn <span style=color:#c5a3ff>4096</span></span></span></code></pre></td></tr></table></div></div></p></li><li><p>Before proceeding to start up our Sentry Node for the first time we will need to install some live monitoring software to see what it is doing once active.</p><p>We do this by entering the following group of commands<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd ~/
</span></span><span style=display:flex><span>mkdir nodebase-tools 
</span></span><span style=display:flex><span>cd nodebase-tools
</span></span><span style=display:flex><span>wget -O ayaview.zip https://github.com/nodebasewm/download/blob/main/ayaview.zip?raw<span style=color:#ffb8d1>=</span>true
</span></span><span style=display:flex><span>unzip ayaview.zip
</span></span><span style=display:flex><span>rm ayaview.zip</span></span></code></pre></td></tr></table></div></div></p></li><li><p>We will also quickly add a new Firewall Rule to our Server to allow Incoming connections to come into our Node once it has started.</p><p>What command we need to enter to do this will depend on how our Server is set up to handle Firewall Rules.</p><p>If our Server is using <strong>ufw</strong> to handle Firewall Rules (most likely for most installs) we need to enter the following command to accept Incoming connections over Port 26656 (a Sentry Node&rsquo;s default Port)</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo ufw allow from any to any port <span style=color:#c5a3ff>26656</span> proto tcp</span></span></code></pre></td></tr></table></div></div><p>If our Server is using iptables to handle Firewall Rules we need to enter the following group of commands to accept Incoming connections over Port 26656 (a Sentry Node&rsquo;s default Port)</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo iptables -I INPUT -p tcp -m tcp --dport <span style=color:#c5a3ff>26656</span> -j ACCEPT
</span></span><span style=display:flex><span>sudo service iptables save</span></span></code></pre></td></tr></table></div></div><p>If we haven&rsquo;t yet set up our Firewall Rules at all, we can follow the steps laid out over at <a href=/docs/configuration/firewall/>Firewall Configuration</a> to do this.</p></li><li><p>With the Firewall Rule added we are now going to start up our Sentry Node for the first time, manually.</p><blockquote><p>Note: Later we will be setting up a service file to have our Node automatically restart on Server reboot, or following a crash. For now though we will proceed manually.</p></blockquote><p>We do this by entering the following group of commands</p><blockquote><p>Note: There is a lot of automated scripting shown below that has to be run before first boot of Node to ensure that it will start to sync the chain. It will not be needed again for future start ups.</p></blockquote><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>INTERVAL<span style=color:#ffb8d1>=</span><span style=color:#c5a3ff>15000</span>
</span></span><span style=display:flex><span>LATEST_HEIGHT<span style=color:#ffb8d1>=</span><span style=color:#c2ffdf>$(</span>curl -s <span style=color:#1bc5e0>&#34;http://peer1-501.worldmobilelabs.com:26657/block&#34;</span> | jq -r .result.block.header.height<span style=color:#c2ffdf>)</span>
</span></span><span style=display:flex><span>BLOCK_HEIGHT<span style=color:#ffb8d1>=</span><span style=color:#c2ffdf>$((</span><span style=color:#ffb8d1>(</span><span style=color:#c2ffdf>$((</span>LATEST_HEIGHT <span style=color:#ffb8d1>/</span> INTERVAL<span style=color:#c2ffdf>))</span> <span style=color:#ffb8d1>-</span> <span style=color:#c5a3ff>1</span><span style=color:#ffb8d1>)</span> <span style=color:#ffb8d1>*</span> INTERVAL <span style=color:#ffb8d1>+</span> <span style=color:#c2ffdf>$((</span>INTERVAL <span style=color:#ffb8d1>/</span> <span style=color:#c5a3ff>2</span><span style=color:#c2ffdf>))))</span>
</span></span><span style=display:flex><span>TRUST_HASH<span style=color:#ffb8d1>=</span><span style=color:#c2ffdf>$(</span>curl -s <span style=color:#1bc5e0>&#34;http://peer1-501.worldmobilelabs.com:26657/block?height=</span><span style=color:#1bc5e0>${</span>BLOCK_HEIGHT<span style=color:#1bc5e0>}</span><span style=color:#1bc5e0>&#34;</span> | jq -r .result.block_id.hash<span style=color:#c2ffdf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#b0bec5># Set available RPC servers (at least two) required for light client snapshot verification</span>
</span></span><span style=display:flex><span>sed -i -E <span style=color:#1bc5e0>&#34;s|^(rpc_servers[[:space:]]+=[[:space:]]+).*</span>$<span style=color:#1bc5e0>|\1\&#34;http://peer1-501.worldmobilelabs.com:26657,http://peer2-501.worldmobilelabs.com:26657\&#34;|&#34;</span> <span style=color:#1bc5e0>&#34;</span><span style=color:#1bc5e0>${</span>aya_home<span style=color:#1bc5e0>}</span><span style=color:#1bc5e0>&#34;</span>/config/config.toml
</span></span><span style=display:flex><span><span style=color:#b0bec5># Set &#34;safe&#34; trusted block height</span>
</span></span><span style=display:flex><span>sed -i -E <span style=color:#1bc5e0>&#34;s|^(trust_height[[:space:]]+=[[:space:]]+).*</span>$<span style=color:#1bc5e0>|\1</span>$BLOCK_HEIGHT<span style=color:#1bc5e0>|&#34;</span> <span style=color:#1bc5e0>&#34;</span><span style=color:#1bc5e0>${</span>aya_home<span style=color:#1bc5e0>}</span><span style=color:#1bc5e0>&#34;</span>/config/config.toml
</span></span><span style=display:flex><span><span style=color:#b0bec5># Set &#34;qsafe&#34; trusted block hash</span>
</span></span><span style=display:flex><span>sed -i -E <span style=color:#1bc5e0>&#34;s|^(trust_hash[[:space:]]+=[[:space:]]+).*</span>$<span style=color:#1bc5e0>|\1\&#34;</span>$TRUST_HASH<span style=color:#1bc5e0>\&#34;|&#34;</span> <span style=color:#1bc5e0>&#34;</span><span style=color:#1bc5e0>${</span>aya_home<span style=color:#1bc5e0>}</span><span style=color:#1bc5e0>&#34;</span>/config/config.toml
</span></span><span style=display:flex><span><span style=color:#b0bec5># Set trust period, should be ~2/3 unbonding time (3 weeks for preview network)</span>
</span></span><span style=display:flex><span>sed -i -E <span style=color:#1bc5e0>&#34;s|^(trust_period[[:space:]]+=[[:space:]]+).*</span>$<span style=color:#1bc5e0>|\1\&#34;302h0m0s\&#34;|&#34;</span> <span style=color:#1bc5e0>&#34;</span><span style=color:#1bc5e0>${</span>aya_home<span style=color:#1bc5e0>}</span><span style=color:#1bc5e0>&#34;</span>/config/config.toml
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>cd ~/earthnode_installer
</span></span><span style=display:flex><span><span style=color:#1bc5e0>&#34;</span><span style=color:#1bc5e0>${</span>aya_home<span style=color:#1bc5e0>}</span><span style=color:#1bc5e0>&#34;</span>/cosmovisor/cosmovisor run start --home <span style=color:#1bc5e0>${</span>aya_home<span style=color:#1bc5e0>}</span> &amp;&gt;&gt;<span style=color:#1bc5e0>&#34;</span><span style=color:#1bc5e0>${</span>cosmovisor_logfile<span style=color:#1bc5e0>}</span><span style=color:#1bc5e0>&#34;</span> &amp;</span></span></code></pre></td></tr></table></div></div><p>We have now started our Node software for the first time!</p></li><li><p>Now we shall proceed to monitoring it.</p><p>We do this by entering the following group of commands<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd ~/nodebase-tools 
</span></span><span style=display:flex><span>./ayaview</span></span></code></pre></td></tr></table></div></div></p><p>The ayaview software will start up and visually show us the Blockchain data being downloaded to bring us up to date with the current tip of the chain.</p><p>We will know it has caught up to the current state of the Chain once the Block Height column stops counting up so quickly, and starts adding just 1 new Block Height to left hand table only around every 5-6 seconds.</p><p>Once we are up to date with the current tip of the Chain we need to do some tidy up work on both the config.toml and app.toml files that we edited before the first run of our Node.</p><p>We can do this by first pressing q on the ayaview console to quit out of it and then by entering the following group of commands<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd /opt/aya/config/
</span></span><span style=display:flex><span>nano config.toml</span></span></code></pre></td></tr></table></div></div></p><p>We are now back in the nano text editor, looking at the config.toml file contents for our Sentry Node.</p><p>We now make the necessary changes to this file as follows</p><ul><li>change the <strong>statesync</strong> option to be <strong>enable = false</strong> instead of <strong>true</strong></li></ul><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#b0bec5>#######################################################</span>
</span></span><span style=display:flex><span><span style=color:#b0bec5>###         State Sync Configuration Options        ###</span>
</span></span><span style=display:flex><span><span style=color:#b0bec5>#######################################################</span>
</span></span><span style=display:flex><span><span style=color:#ffb8d1>[</span>statesync<span style=color:#ffb8d1>]</span>
</span></span><span style=display:flex><span><span style=color:#b0bec5># State sync rapidly bootstraps a new node by discovering, fetching, and restoring a state machine</span>
</span></span><span style=display:flex><span><span style=color:#b0bec5># snapshot from peers instead of fetching and replaying historical blocks. Requires some peers in</span>
</span></span><span style=display:flex><span><span style=color:#b0bec5># the network to take and serve state machine snapshots. State sync is not attempted if the node</span>
</span></span><span style=display:flex><span><span style=color:#b0bec5># has any local state (LastBlockHeight &gt; 0). The node will have a truncated block history,</span>
</span></span><span style=display:flex><span><span style=color:#b0bec5># starting from the height of the snapshot.</span>
</span></span><span style=display:flex><span>enable <span style=color:#ffb8d1>=</span> false</span></span></code></pre></td></tr></table></div></div><p>At this point the tidy up editing work to our config.toml file is done, and it can now be saved with these changes.</p><p>To save the config.toml file within nano editor we press ctrl+x and then press y, followed by enter. This will save the file with the same filename as before.</p></li><li><p>Next we need to make a change to the app.toml file contents for our Sentry Node.</p><p>We do this by entering the following command<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>nano app.toml</span></span></code></pre></td></tr></table></div></div></p><p>And we edit the following section of the file to the below setting, changing it from being 0 to being 100.</p><blockquote><p>Note: Setting the snapshot-interval to 100 will ensure that we can use our Sentry Node to kickstart our Validator later on. Which will allow us to set up our Validator without ever exposing its external IP to the rest of the Network.</p></blockquote><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#b0bec5># snapshot-interval specifies the block interval at which local state sync snapshots are</span>
</span></span><span style=display:flex><span><span style=color:#b0bec5># taken (0 to disable).</span>
</span></span><span style=display:flex><span>snapshot-interval <span style=color:#ffb8d1>=</span> <span style=color:#c5a3ff>100</span></span></span></code></pre></td></tr></table></div></div><p>At this point the tidy up editing work to our app.toml file is done, and it can now be saved with these changes.</p><p>To save the app.toml file within nano editor we press ctrl+x and then press y, followed by enter. This will save the file with the same filename as before.</p><blockquote><p>Note: These <strong>config.toml</strong> and <strong>app.toml</strong> file edits above should only be completed once we are SURE that our Node is up to date with the current state of the Chain. We DO NOT make this edit before our Node has fully synced to the current Block Height ayaview, and is adding a new Block around every 5-6 seconds.</p></blockquote></li><li><p>At present, our Node should be running along nicely in the background and keeping up to date with the current state of the Chain, but we still have to complete some more steps before we have fully completed our Sentry Node&rsquo;s initial set up.</p><p>First we need to ensure that we have saved all of our Node&rsquo;s important data, needed for future reference both by tools and by us.</p><p>We do this by entering the following group of commands<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd ~/earthnode_installer
</span></span><span style=display:flex><span><span style=color:#b0bec5># Get the address of the validator</span>
</span></span><span style=display:flex><span>validator_address<span style=color:#ffb8d1>=</span><span style=color:#c2ffdf>$(</span>./ayad tendermint show-address --home <span style=color:#1bc5e0>${</span>aya_home<span style=color:#1bc5e0>}</span><span style=color:#c2ffdf>)</span>
</span></span><span style=display:flex><span><span style=color:#b0bec5># Use &#39;jq&#39; to create a JSON object with the &#39;moniker&#39;, &#39;operator_address&#39; and &#39;validator_address&#39; fields</span>
</span></span><span style=display:flex><span>jq --arg key0 <span style=color:#1bc5e0>&#39;moniker&#39;</span> <span style=color:#1bc5e0>\
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0></span>--arg value0 <span style=color:#1bc5e0>&#34;</span>$moniker<span style=color:#1bc5e0>&#34;</span> <span style=color:#1bc5e0>\
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0></span>--arg key1 <span style=color:#1bc5e0>&#39;validator_address&#39;</span> <span style=color:#1bc5e0>\
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0></span>--arg value1 <span style=color:#1bc5e0>&#34;</span>$validator_address<span style=color:#1bc5e0>&#34;</span> <span style=color:#1bc5e0>\
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0></span><span style=color:#1bc5e0>&#39;. | .[$key0]=$value0 | .[$key1]=$value1&#39;</span>  <span style=color:#1bc5e0>\
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0></span><span style=color:#ffb8d1>&lt;&lt;&lt;</span><span style=color:#1bc5e0>&#39;{}&#39;</span> | tee $sentry_setup_json</span></span></code></pre></td></tr></table></div></div></p><p>This will save our Sentry Node&rsquo;s data to the filename sentry.json in the <strong>/opt/aya</strong> directory.</p></li><li><p>Next we want to set up some symbolic links for the &lsquo;ayad&rsquo; and &lsquo;cosmovisor&rsquo; binaries so that their specific commands can be called from anywhere on our Node&rsquo;s filesystem.</p><p>We do this by entering the following group of commands<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo ln -s $aya_home/cosmovisor/current/bin/ayad /usr/local/bin/ayad &gt;/dev/null 2&gt;&amp;<span style=color:#c5a3ff>1</span>
</span></span><span style=display:flex><span>sudo ln -s $aya_home/cosmovisor/cosmovisor /usr/local/bin/cosmovisor &gt;/dev/null 2&gt;&amp;<span style=color:#c5a3ff>1</span></span></span></code></pre></td></tr></table></div></div></p></li><li><p>And finally, we want to create a systemd service file that will allow our Node to automatically start on a reboot of our Server and to automatically attempt to restart itself on any crashes.</p><p>We do this by entering the following group of commands<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo tee /etc/systemd/system/cosmovisor.service &gt; /dev/null <span style=color:#1bc5e0>&lt;&lt;EOF
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0># Start the &#39;cosmovisor&#39; daemon
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0># Create a Systemd service file for the &#39;cosmovisor&#39; daemon
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>[Unit]
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>Description=Aya Node
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>After=network-online.target
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>[Service]
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>User=$USER
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0># Start the &#39;cosmovisor&#39; daemon with the &#39;run start&#39; command and write output to journalctl
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>ExecStart=$(which cosmovisor) run start --home &#34;${aya_home}&#34;
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0># Restart the service if it fails
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>Restart=always
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0># Restart the service after 3 seconds if it fails
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>RestartSec=3
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0># Set the maximum number of file descriptors
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>LimitNOFILE=4096
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0># Set environment variables for data backups, automatic downloading of binaries, and automatic restarts after upgrades
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>Environment=&#34;DAEMON_NAME=ayad&#34;
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>Environment=&#34;DAEMON_HOME=${aya_home}&#34;
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>Environment=&#34;DAEMON_DATA_BACKUP_DIR=${aya_home}/backup&#34;
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>Environment=&#34;DAEMON_ALLOW_DOWNLOAD_BINARIES=true&#34;
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>Environment=&#34;DAEMON_RESTART_AFTER_UPGRADE=true&#34;
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>[Install]
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0># Start the service on system boot
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>WantedBy=multi-user.target
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>EOF</span></span></span></code></pre></td></tr></table></div></div></p><p>This will have added a new service file to our Server under the path /etc/systemd/system named cosmovisor.service. This service file is what will be called when the Server reboots, or if our Node crashes.</p></li><li><p>With the service now created, we now need to enable it for future use.</p><p>We do this by entering the following group of commands</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#b0bec5># Reload the Systemd daemon</span>
</span></span><span style=display:flex><span>sudo systemctl daemon-reload
</span></span><span style=display:flex><span><span style=color:#b0bec5># Enable the &#39;cosmovisor&#39; service to start on system boot</span>
</span></span><span style=display:flex><span>sudo systemctl enable cosmovisor</span></span></code></pre></td></tr></table></div></div><p>We can now confirm that our service is ready to be started by entering the following command.</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo systemctl status cosmovisor.service</span></span></code></pre></td></tr></table></div></div><p>This should show us the following</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>○ cosmovisor.service - Aya Node
</span></span><span style=display:flex><span>    Loaded: loaded <span style=color:#ffb8d1>(</span>/etc/systemd/system/cosmovisor.service; enabled; vendor preset: enabled<span style=color:#ffb8d1>)</span>
</span></span><span style=display:flex><span>    Active: inactive <span style=color:#ffb8d1>(</span>dead<span style=color:#ffb8d1>)</span></span></span></code></pre></td></tr></table></div></div><p>If we see this, we know we have successfully installed our Aya Node Service.</p></li><li><p>All that remains now, is to close down our first run of our Node and to restart it using this newly installed Service instead of manually launching our Node as before.</p><p>To do this, we need to identify what the current process number of our still running first run Node is.</p><p>We do this by entering the following command</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ps -ef | grep cosmovisor</span></span></code></pre></td></tr></table></div></div><p>The output of this command should something like this</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>wmt   <span style=color:#c5a3ff>33619</span>   <span style=color:#c5a3ff>33486</span>  <span style=color:#c5a3ff>0</span> 03:11 pts/0    00:00:02 /opt/aya/cosmovisor/cosmovisor run start --home /opt/aya
</span></span><span style=display:flex><span>wmt   <span style=color:#c5a3ff>33625</span>   <span style=color:#c5a3ff>33619</span> <span style=color:#c5a3ff>33</span> 03:11 pts/0    00:16:16 /opt/aya/cosmovisor/genesis/bin/ayad start --home /opt/aya
</span></span><span style=display:flex><span>wmt   <span style=color:#c5a3ff>34703</span>   <span style=color:#c5a3ff>33486</span>  <span style=color:#c5a3ff>0</span> 03:59 pts/0    00:00:00 grep --color<span style=color:#ffb8d1>=</span>auto cosmovisor</span></span></code></pre></td></tr></table></div></div><p>What we are looking for is the leftmost number appearing for the line that contains &ldquo;/opt/aya/cosmovisor/cosmovisor run start &ndash;home /opt/aya&rdquo; on its right hand side</p><p>In the above example, this number is 33619.</p><p>Our number will be different, and we need to take a note of it for the next step.</p><p>Once we have this number we can now use it to turn off our first run Node that has served us so well to get our Blockchain sync up to date with the current tip of the Chain.</p><p>We do this by entering the following command</p><blockquote><p>Note: We replace <code>&lt;number></code> with our noted number from above at this point, removing the surrounding &lt;></p></blockquote><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo kill &lt;number&gt;</span></span></code></pre></td></tr></table></div></div><p>We have now killed our running Node, but don&rsquo;t worry, we are going to bring it right back to life. Except this time, as a Service!</p><p>To do this we enter the following command<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo systemctl start cosmovisor.service</span></span></code></pre></td></tr></table></div></div></p><p>Now we need to check that cosmovisor.service has started properly.</p><p>We do this by entering the following command<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo systemctl status cosmovisor.service</span></span></code></pre></td></tr></table></div></div></p><p>When we ran this command previously it said our Aya Node Service was inactive (dead), this time it should say something like the following<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cosmovisor.service - Aya Node
</span></span><span style=display:flex><span>    Loaded: loaded <span style=color:#ffb8d1>(</span>/etc/systemd/system/cosmovisor.service; enabled; vendor preset: enabled<span style=color:#ffb8d1>)</span>
</span></span><span style=display:flex><span>    Active: active <span style=color:#ffb8d1>(</span>running<span style=color:#ffb8d1>)</span> since Wed 2023-03-01 04:06:05 UTC; 4s ago
</span></span><span style=display:flex><span>Main PID: <span style=color:#c5a3ff>34791</span> <span style=color:#ffb8d1>(</span>cosmovisor<span style=color:#ffb8d1>)</span>
</span></span><span style=display:flex><span>    Tasks: <span style=color:#c5a3ff>15</span> <span style=color:#ffb8d1>(</span>limit: 4573<span style=color:#ffb8d1>)</span>
</span></span><span style=display:flex><span>    Memory: 382.3M
</span></span><span style=display:flex><span>        CPU: 5.063s
</span></span><span style=display:flex><span>    CGroup: /system.slice/cosmovisor.service
</span></span><span style=display:flex><span>            ├─34791 /usr/local/bin/cosmovisor run start --home /opt/aya
</span></span><span style=display:flex><span>            └─34796 /opt/aya/cosmovisor/genesis/bin/ayad start --home /opt/aya
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Mar <span style=color:#c5a3ff>01</span> 04:06:05 localhost systemd<span style=color:#ffb8d1>[</span>1<span style=color:#ffb8d1>]</span>: Started Aya Node.
</span></span><span style=display:flex><span>Mar <span style=color:#c5a3ff>01</span> 04:06:05 localhost cosmovisor<span style=color:#ffb8d1>[</span>34791<span style=color:#ffb8d1>]</span>: 4:06AM INF running app args<span style=color:#ffb8d1>=[</span><span style=color:#1bc5e0>&#34;start&#34;</span>,<span style=color:#1bc5e0>&#34;--home&#34;</span>,<span style=color:#1bc5e0>&#34;/opt/aya&#34;</span><span style=color:#ffb8d1>]</span> module<span style=color:#ffb8d1>=</span>cosmovisor path<span style=color:#ffb8d1>=</span>/opt/aya/cosmovisor/genesis/bin/ayad</span></span></code></pre></td></tr></table></div></div></p><p>Some details will be different to the above example, but this should be the general layout. The important point is that it should say &lsquo;active (running)&rsquo; in green.</p></li><li><p>We can now confirm everything is continuing to sync from the Blockchain by going back to our ayaview console and watching to see if the Block Height is still slowly ticking upwards as before.</p><p>We do this by entering the following group of commands<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd ~/nodebase-tools
</span></span><span style=display:flex><span>./ayaview</span></span></code></pre></td></tr></table></div></div></p><p>If everything is working as it should our ayaview console should now be showing us the Aya Blockchain ticking on by once more, around every 5-6 seconds.</p></li></ol><p><strong>And that&rsquo;s it!!!</strong></p><p><strong>Congratulations! We have now successfully completed setting up a Sentry Node!</strong></p><blockquote><p>Note: At the moment though, our Sentry Node does not yet have a Validator that it connects to for protecting it, and passing on its Block Votes.</p><p>Which means it hasn&rsquo;t yet got to fulfil its true purpose in life just yet (much like many of us).</p><p>So, to fix this, we will tackle connecting our newly set up Sentry Node to our EarthNode Validator, as well as any other running Sentry Nodes in our Infrastructure, in a separate guide.</p><p>For now though, we can simply bask in the glory of setting up a well running Sentry Node!</p></blockquote></div><div class=td-content style=page-break-before:always><h1 id=pg-a016e539f3ce938337d5cb2ebb8675f5>6.2 - 2. Validator Node Manual Installation</h1><div class=lead>Full Installation Guide for installing a Validator Node</div><p><strong>Written by Nodebase Team member <a href=https://twitter.com/intertreeJK>intertree (Johnny Kelly)</a></strong></p><h1 id=introduction>Introduction</h1><p>The following guide will take you through all manual steps to be taken to have a fully running Validator Node. Taking you through how attach it to your prevously installed Sentry Nodes, and how to register your EarthNode Stake Pool via both an On-Chain <strong>ENNFT</strong> Registration Transaction on the Cardano Network as well as an On-Chain <strong>Validator</strong> Registration Transaction on the Aya Network.</p><p>A number of elements of the set up process are very similiar to that of setting up a Sentry Node.</p><p>However additional steps will be required to ensure that the Validator only ever connects to other Nodes under <em>your own</em> control, so that your Validator Node&rsquo;s ID and IP adddress are never publicised to the rest of the Blockchain Network.</p><p>This will require changing settings on <strong>both</strong> your existing Sentry Nodes and your newly set up Validator, to ensure proper cross connections are in place.</p><p>Details of what changes need to be made, on both sides, will appear in this guide.</p><p>This guide assumes you have already set up the Sentry Nodes that will be used to connect to this Validator using the steps laid out over at <a href=/docs/tutorials/sentrynodemanual/>Sentry Node Manual Installation</a>.</p><blockquote><p>Note: In order for full Validator set-up to work without <strong>ever</strong> connecting to a World Mobile supplied Node, you will need to have <strong>two</strong> working Sentry Nodes in your Infrastructure.</p><p>As they will be acting as the <strong>two</strong> required RPC Servers to help kickstart your Validator syncing to the tip of the Chain.</p></blockquote><p>This guide also assumes that all IP addresses being used to established cross connections between your Sentry Nodes and your Validator will be <strong>Private</strong> IP addresses, and that each will be visable to one another.</p><blockquote><p>Note: In order for this to be the case <strong>all</strong> of your Nodes will need to appear under the same IP subnet. To achieve this within an Infrastructure in which you have Nodes running across either <em>multiple</em> Cloud Providers or a <em>hybrid</em> mix of Cloud and Baremetal Servers you will need to install and run a <strong>VPN Service</strong> that will make each of your Nodes appear to eachother as being on the same local network.</p><p>Setting up of such a VPN Service is outside the scope of this guide, but it is <strong>highly</strong> recommended that a VPN Service be used in any set up where Nodes do not <em>already</em> have Private IPs, on the same local subnet, that can be utilised for the task.</p><p>If all of your Nodes are running on the <strong>same</strong> Cloud Provider it is highly likely that they will <em>already</em> be running on the same Private IP subnet, and that that your Cloud Provider will make thse Private IPs available to you, but it must be highlighted that relying on a single Cloud Provider for <strong>all</strong> of your Node Infrastructure also creates a single point of failure for your EarthNode Stake Pool.</p><p>The level of acceptance you have for this single point of failure risk, is up to you.</p></blockquote><p>And finally, this guide assumes you have already followed steps to set up a new user named wmt to run the Sentry Node software, and that you have taken proper steps to secure this username from being logged into from external machines.</p><blockquote><p><strong>Note: DO NOT follow this guide while logged in as the root user on your machine. This is bad practice. Make a sudo group user named wmt FIRST, and configure secure login to it using SSH keys.</strong></p></blockquote><p>Now, with this introduction, and its various warnings, out of the way, we shall proceed with the guide!</p><h1 id=step-by-step-installation-guide>Step-By-Step Installation Guide</h1><ol><li><p>Logged in as user wmt we first start by making the base directory structure for World Mobile&rsquo;s ayad and Cosmovisor binaries that are to be installed on our Node.</p><p>We do this by entering the following group of commands</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo mkdir -p /opt/aya
</span></span><span style=display:flex><span>sudo chown <span style=color:#1bc5e0>&#34;</span><span style=color:#1bc5e0>${</span>USER<span style=color:#1bc5e0>}</span><span style=color:#1bc5e0>:</span><span style=color:#1bc5e0>${</span>USER<span style=color:#1bc5e0>}</span><span style=color:#1bc5e0>&#34;</span> /opt/aya
</span></span><span style=display:flex><span>mkdir -p /opt/aya/cosmovisor/genesis/bin
</span></span><span style=display:flex><span>mkdir -p /opt/aya/backup
</span></span><span style=display:flex><span>mkdir -p /opt/aya/logs
</span></span><span style=display:flex><span>mkdir -p /opt/aya/config</span></span></code></pre></td></tr></table></div></div></li><li><p>Next we set some environment variables so that further installation steps can be simplified.</p><p>We do this by entering the following group of commands</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>CHAIN_ID<span style=color:#ffb8d1>=</span><span style=color:#1bc5e0>&#34;aya_preview_501&#34;</span>
</span></span><span style=display:flex><span>aya_home<span style=color:#ffb8d1>=</span>/opt/aya
</span></span><span style=display:flex><span>cosmovisor_logfile<span style=color:#ffb8d1>=</span><span style=color:#1bc5e0>${</span>aya_home<span style=color:#1bc5e0>}</span>/logs/cosmovisor.log
</span></span><span style=display:flex><span>en_registration_json<span style=color:#ffb8d1>=</span><span style=color:#1bc5e0>${</span>aya_home<span style=color:#1bc5e0>}</span>/registration.json
</span></span><span style=display:flex><span>accountfile<span style=color:#ffb8d1>=</span><span style=color:#1bc5e0>${</span>aya_home<span style=color:#1bc5e0>}</span>/account</span></span></code></pre></td></tr></table></div></div></li><li><p>Now we set up our Node&rsquo;s Account name (a friendly name for Our Operator Wallet Address that will be used to run our EarthNode Stake Pool) and Moniker (a friendly name for our Validator Node that will appear On-Chain for people to Delegate to). We will also save our Account name to a file for future reference.</p><p>We do this by entering the following group of commands</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>account<span style=color:#ffb8d1>=</span><span style=color:#1bc5e0>&#39;&lt;account&gt;&#39;</span>
</span></span><span style=display:flex><span>moniker<span style=color:#ffb8d1>=</span><span style=color:#1bc5e0>&#39;&lt;moniker&gt;&#39;</span>
</span></span><span style=display:flex><span>echo <span style=color:#1bc5e0>&#34;</span>$account<span style=color:#1bc5e0>&#34;</span> &gt; <span style=color:#1bc5e0>&#34;</span>$accountfile<span style=color:#1bc5e0>&#34;</span></span></span></code></pre></td></tr></table></div></div><blockquote><p>Note: We replace <code>&lt;account></code> and <code>&lt;moniker></code> with our own chosen names at this point, removing the surrounding &lt;>
They <strong>can</strong> be the same name.</p></blockquote></li><li><p>Now we install a required prerequisite package (jq) for the successful completion of installation steps.</p><p>We do this by entering the following command<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt-get update
</span></span><span style=display:flex><span>sudo apt-get -q install jq -y</span></span></code></pre></td></tr></table></div></div></p></li><li><p>Now we create an installation directory for the EarthNode installation files, navigate to it, download the installer zip file, install the unzip command (if not already installed to our OS), and extract the earthnode_installer archive.</p><p>We do this by entering the following group of commands</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mkdir ~/earthnode_installer
</span></span><span style=display:flex><span>cd ~/earthnode_installer
</span></span><span style=display:flex><span>wget https://github.com/max-hontar/aya-preview-binaries/releases/download/v0.4.1/aya_preview_501_installer_2023_09_04.zip
</span></span><span style=display:flex><span>sudo apt-get -q install unzip -y
</span></span><span style=display:flex><span>unzip aya_preview_501_installer_2023_09_04.zip
</span></span><span style=display:flex><span>rm aya_preview_501_installer_2023_09_04.zip</span></span></code></pre></td></tr></table></div></div></li><li><p>Now we confirm that the included binaries for ayad and cosmovisor match their release_checksums values as provided by World Mobile. Check that the output of both commands match one another.</p><p>We do this by entering the following group of commands<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sha256sum ayad cosmovisor
</span></span><span style=display:flex><span>cat release_checksums </span></span></code></pre></td></tr></table></div></div></p></li><li><p>Following this confirmation step, we copy the ayad and cosmovisor binary files to their home locations for use in future operations.</p><p>We do this by entering the following group of commands<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cp ~/earthnode_installer/ayad <span style=color:#1bc5e0>&#34;</span><span style=color:#1bc5e0>${</span>aya_home<span style=color:#1bc5e0>}</span><span style=color:#1bc5e0>&#34;</span>/cosmovisor/genesis/bin/ayad
</span></span><span style=display:flex><span>cp ~/earthnode_installer/cosmovisor <span style=color:#1bc5e0>&#34;</span><span style=color:#1bc5e0>${</span>aya_home<span style=color:#1bc5e0>}</span><span style=color:#1bc5e0>&#34;</span>/cosmovisor/cosmovisor</span></span></code></pre></td></tr></table></div></div></p></li><li><p>Now we initialise ayad to create all of the required configuration and set up files needed for running the cosmovisor and ayad binaries.</p><p>We do this by entering the following command<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>./ayad init <span style=color:#1bc5e0>&#34;</span><span style=color:#1bc5e0>${</span>moniker<span style=color:#1bc5e0>}</span><span style=color:#1bc5e0>&#34;</span> --chain-id $CHAIN_ID --home <span style=color:#1bc5e0>${</span>aya_home<span style=color:#1bc5e0>}</span></span></span></code></pre></td></tr></table></div></div></p><p>We have now populated the /opt/aya directory and its subdirectories with the necessary files to configure our Node.</p></li><li><p>Next we copy across the genesis.json file used to kickstart the aya_preview_501 Blockchain Connection.</p><p>We do this by entering the following command</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cp ~/earthnode_installer/genesis.json <span style=color:#1bc5e0>&#34;</span><span style=color:#1bc5e0>${</span>aya_home<span style=color:#1bc5e0>}</span><span style=color:#1bc5e0>&#34;</span>/config/genesis.json</span></span></code></pre></td></tr></table></div></div></li><li><p>Now we are going to create a new Operator Account, and display its Seed Phrase.</p><p>We do this by entering the following group of commands</p><blockquote><p>Note: During this step you will be asked to set up a spending password for your Account, this password will be needed when sending your On-Chain Validator Registration Transaction in a later step. Enter in a secure password to be used for this.</p></blockquote><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#b0bec5># Create a new operator account and store the JSON output in the &#39;operator_json&#39; variable</span>
</span></span><span style=display:flex><span>operator_json<span style=color:#ffb8d1>=</span><span style=color:#c2ffdf>$(</span>./ayad keys add <span style=color:#1bc5e0>&#34;</span><span style=color:#1bc5e0>${</span>account<span style=color:#1bc5e0>}</span><span style=color:#1bc5e0>&#34;</span> --output json --home <span style=color:#1bc5e0>${</span>aya_home<span style=color:#1bc5e0>}</span><span style=color:#c2ffdf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#b0bec5># Extract the address from the &#39;operator_json&#39; variable and store it in the &#39;operator_address&#39; variable</span>
</span></span><span style=display:flex><span>operator_address<span style=color:#ffb8d1>=</span><span style=color:#c2ffdf>$(</span>echo <span style=color:#1bc5e0>&#34;</span>$operator_json<span style=color:#1bc5e0>&#34;</span> | jq <span style=color:#1bc5e0>&#39;.address&#39;</span> | sed <span style=color:#1bc5e0>&#39;s/\&#34;//g&#39;</span><span style=color:#c2ffdf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#b0bec5># Display the mnemonic and address of the operator account</span>
</span></span><span style=display:flex><span>echo -e <span style=color:#1bc5e0>&#34;\n-- [ONLY FOR YOUR EYES] Store this information safely, the mnemonic is the only way to recover your account. \n&#34;</span>
</span></span><span style=display:flex><span>echo <span style=color:#1bc5e0>&#34;</span>$operator_json<span style=color:#1bc5e0>&#34;</span> | jq -M</span></span></code></pre></td></tr></table></div></div><blockquote><p>Note: This Operator Account is similar to a Cardano Wallet, and as such it will have along with it a Seed Phrase to allow for its future recovery. It is <strong>vitally</strong> important that we keep this Seed Phrase in a safe and secure location in case we ever need to recover our Account on a different machine in the future. The Operator Account is what controls our EarthNode Stake Pool&rsquo;s Registration and Pool settings, so if we lose access to this Account we will lose access to our EarthNode Stake Pool altogether.</p></blockquote></li><li><p>Next we are going to need the obtain our Validator Node&rsquo;s Node ID in order to complete some work over on our already configured Sentry Nodes in the next section of the guide.</p><p>We do this by entering the following command</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>./ayad tendermint show-node-id --home $aya_home</span></span></code></pre></td></tr></table></div></div><blockquote><p>Note: At this point we want to copy and paste the output of this command to a separate, temporary, text file on our machine for use in the <strong>Sentry Node</strong> section of this guide. Which is starting now.</p></blockquote></li></ol><p>Now we need to prepare our <strong>Sentry Nodes</strong> for connection from our Validator.</p><blockquote><p>Note: During the following section of the guide work will be being done on <strong>both</strong> of our Sentry Nodes to make them ready for Validator first contact. However, to simplify the instructions, the steps to take on our Sentry Nodes will only be run through once.</p><p>We need to <strong>Make sure</strong> to complete the steps below on <strong>both</strong> of our Sentry Nodes. To do this, we will need to connect to each of them in separate terminal windows. Remember, these edits are <strong>not</strong> to be done on our Validator Node.</p><p>We also need to make sure to <strong>not</strong> close our existing Validator Node terminal window while working on the separate terminal windows of our already ocnfigured Sentry Nodes. As doing so will break future steps in Valdiator set up.</p></blockquote><ol start=12><li><p>After connecting in a <strong>separate</strong> terminal window to our already configured <strong>Sentry Node</strong> we are now going to obtain its Node ID.</p><p>We do this by entering the following command</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ayad tendermint show-node-id --home /opt/aya</span></span></code></pre></td></tr></table></div></div><blockquote><p>Note: At this point we want to copy and paste the output of this command to a separate temporary text file on our machine for use later in this guide.</p></blockquote></li><li><p>Continuing on our already configured <strong>Sentry Node</strong> we are now going to make an edit to its <strong>config.toml</strong> file to allow for remote RPC connections.</p><p>We do this by entering the following group of commands</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd /opt/aya/config
</span></span><span style=display:flex><span>nano config.toml </span></span></code></pre></td></tr></table></div></div><p>We are now in the nano text editor, looking at the config.toml file contents for our already configured <strong>Sentry Node</strong>.</p><blockquote><p>Note: It is possible to search for the fields we need to edit more quickly by copying them from the below steps, pressing ctrl+w inside of nano in our terminal window, right clicking on the window, pasting the names of the values we need to edit, and pressing enter to jump to them.</p><p>We can also remove text blocks from a document that we wish to replace with new text blocks by holding down shift, selecting the existing rows we wish to remove, and then pressing ctrl+k to remove them.</p><p>We can then select and copy the replacement text from the steps shown in this guide below, and right click and paste the new settings into the terminal window.</p><p>We can undo any mistakes we&rsquo;ve made while working inside nano by pressing alt+u</p></blockquote><p>We now make the necessary changes to this file as follows</p><ul><li>Add our Validator&rsquo;s Node ID, Private IP address, and Port number to receive connections from our Sentry Node to <strong>persistent_peers</strong>. Making sure <strong>not</strong> to remove the existing World Mobile peers.<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#b0bec5># Comma separated list of nodes to keep persistent connections to</span>
</span></span><span style=display:flex><span>persistent_peers <span style=color:#ffb8d1>=</span> <span style=color:#1bc5e0>&#34;d7e64a6fc57019d04c989f59c2c643ee1133d99c@peer1-501.worldmobilelabs.com:26656,d1da4b1ad17ea35cf8c1713959b430a95743afcd@peer2-501.worldmobilelabs.com:26656,&lt;Validator Node ID&gt;@&lt;Validator.Node.Private.IP&gt;:26656&#34;</span></span></span></code></pre></td></tr></table></div></div></li></ul><blockquote><p>Note: We replace <code>&lt;Validator Node ID></code> with our separately copied Validator Node ID from above and <code>&lt;Validator.Node.Private.IP></code> with our Validator Node&rsquo;s IP at this point, removing the surrounding &lt;></p></blockquote><ul><li>Add our Validator&rsquo;s Node ID to <strong>unconditional_peer_ids</strong><br><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#b0bec5># List of node IDs, to which a connection will be (re)established ignoring any existing limits</span>
</span></span><span style=display:flex><span>unconditional_peer_ids <span style=color:#ffb8d1>=</span> <span style=color:#1bc5e0>&#34;&lt;Validator Node ID&gt;&#34;</span></span></span></code></pre></td></tr></table></div></div></li></ul><blockquote><p>Note: We replace <code>&lt;Validator Node ID></code> with our separately copied Validator Node ID from above at this point, removing the surrounding &lt;></p></blockquote><ul><li>Add our Validator&rsquo;s Node ID to <strong>private_peer_ids</strong><br><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#b0bec5># Comma separated list of peer IDs to keep private (will not be gossiped to other peers)</span>
</span></span><span style=display:flex><span>private_peer_ids <span style=color:#ffb8d1>=</span> <span style=color:#1bc5e0>&#34;&lt;Validator Node ID&gt;&#34;</span></span></span></code></pre></td></tr></table></div></div></li></ul><blockquote><p>Note: We replace <code>&lt;Validator Node ID></code> with our separately copied Validator Node ID from above at this point, removing the surrounding &lt;></p></blockquote><ul><li>Set the <strong>laddr = &ldquo;tcp://127.0.0.1:26657&rdquo;</strong> field to be <strong>laddr = &ldquo;tcp://0.0.0.0:26657&rdquo;</strong> in the <strong>RPC Server Configuration Options</strong> section of the file.<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#b0bec5># TCP or UNIX socket address for the RPC server to listen on</span>
</span></span><span style=display:flex><span>laddr <span style=color:#ffb8d1>=</span> <span style=color:#1bc5e0>&#34;tcp://0.0.0.0:26657&#34;</span></span></span></code></pre></td></tr></table></div></div></li></ul><p>At this point the editing work to our already configured <strong>Sentry Node&rsquo;s</strong> <strong>config.toml</strong> file is done, and it can now be saved with these changes.</p><p>To save the <strong>config.toml</strong> file within nano editor we press <strong>ctrl+x</strong> and then <strong>press y</strong>, followed by <strong>enter</strong>. This will save the file with the same filename as before.</p></li><li><p>Next we may need to make a change to the <strong>app.toml</strong> file contents for our already configured <strong>Sentry Node</strong>.</p><p>Luckily, the app.toml file we need to edit is in the same directory as config.toml.</p><p>So we do this by entering the following command</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>nano app.toml</span></span></code></pre></td></tr></table></div></div><p>We now make the necessary change to this file as follows</p><ul><li>Set snapshot interval to 100 instead of 0 to activate the snapshot manager</li></ul><blockquote><p>Note: It is quite possible that our already configured <strong>Sentry Node&rsquo;s</strong> snapshot-interval is already set to be 100. If this is the case, no further changes are neccessary.<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#b0bec5># snapshot-interval specifies the block interval at which local state sync snapshots are</span>
</span></span><span style=display:flex><span><span style=color:#b0bec5># taken (0 to disable).</span>
</span></span><span style=display:flex><span>snapshot-interval <span style=color:#ffb8d1>=</span> <span style=color:#c5a3ff>100</span></span></span></code></pre></td></tr></table></div></div></p></blockquote><p>At this point the editing work to our <strong>app.toml</strong> file is done, and it can now be saved with these changes.</p><p>To save the app.toml file within nano editor we press <strong>ctrl+x</strong> and then <strong>press y</strong>, followed by <strong>enter</strong>. This will save the file with the same filename as before.</p></li><li><p>Now we are going to add a new Firewall Rule on our already configured <strong>Sentry Node</strong> to Allow traffic from our Validator Node&rsquo;s Private IP address to come in over Port 26657.</p><p>What command we need to enter to do this will depend on how our Server is set up to handle Firewall Rules.</p><p>If our Server is using <strong>ufw</strong> to handle Firewall Rules (most likely for most installs) we need to enter the following command</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo ufw allow from &lt;Validator.Private.IP.address&gt; to any port <span style=color:#c5a3ff>26657</span> proto tcp</span></span></code></pre></td></tr></table></div></div><p>If our Server is using iptables to handle Firewall Rules we need to enter the following group of commands</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo iptables -I INPUT -p tcp -s &lt;Validator.Private.IP.address&gt; --dport <span style=color:#c5a3ff>26657</span> -j ACCEPT
</span></span><span style=display:flex><span>sudo service iptables save</span></span></code></pre></td></tr></table></div></div><blockquote><p>Note: We replace <code>&lt;Validator.Node.Private.IP></code> with our Validator Node&rsquo;s IP at this point, removing the surrounding &lt;></p></blockquote></li><li><p>Now we need to check that our changes didn&rsquo;t do anything to prevent our already configured <strong>Sentry Node</strong> from being able to start up its cosmovisor Service.</p><p>We do this by entering the following group of commands</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo systemctl restart cosmovisor.service
</span></span><span style=display:flex><span>sudo systemctl status cosmovisor.service</span></span></code></pre></td></tr></table></div></div><p>If all of our changes have not caused any issues with our already configured <strong>Sentry Node&rsquo;s</strong> cosmovisor Service we should see something very similar to the following output.</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>● cosmovisor.service - Aya Node
</span></span><span style=display:flex><span>     Loaded: loaded <span style=color:#ffb8d1>(</span>/etc/systemd/system/cosmovisor.service; enabled; vendor preset: enabled<span style=color:#ffb8d1>)</span>
</span></span><span style=display:flex><span>     Active: active <span style=color:#ffb8d1>(</span>running<span style=color:#ffb8d1>)</span> since Wed 2023-03-15 16:27:02 UTC; 6s ago
</span></span><span style=display:flex><span>   Main PID: <span style=color:#c5a3ff>122758</span> <span style=color:#ffb8d1>(</span>cosmovisor<span style=color:#ffb8d1>)</span>
</span></span><span style=display:flex><span>      Tasks: <span style=color:#c5a3ff>15</span> <span style=color:#ffb8d1>(</span>limit: 4660<span style=color:#ffb8d1>)</span>
</span></span><span style=display:flex><span>     Memory: 568.5M
</span></span><span style=display:flex><span>        CPU: 9.121s
</span></span><span style=display:flex><span>     CGroup: /system.slice/cosmovisor.service
</span></span><span style=display:flex><span>             ├─122758 /usr/local/bin/cosmovisor run start --home /opt/aya 
</span></span><span style=display:flex><span>             └─122764 /opt/aya/cosmovisor/genesis/bin/ayad start --home /opt/aya
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Mar <span style=color:#c5a3ff>15</span> 16:27:02 wmt-sentry1 systemd<span style=color:#ffb8d1>[</span>1<span style=color:#ffb8d1>]</span>: Started Aya Node.
</span></span><span style=display:flex><span>Mar <span style=color:#c5a3ff>15</span> 16:27:02 wmt-sentry1 cosmovisor<span style=color:#ffb8d1>[</span>122758<span style=color:#ffb8d1>]</span>: 4:27PM INF running app args<span style=color:#ffb8d1>=[</span><span style=color:#1bc5e0>&#34;start&#34;</span>,<span style=color:#1bc5e0>&#34;--home&#34;</span>,<span style=color:#1bc5e0>&#34;/opt/aya&#34;</span><span style=color:#ffb8d1>]</span> module<span style=color:#ffb8d1>=</span>cosmovisor path<span style=color:#ffb8d1>=</span>/opt/aya/cosmovisor/genesis/bin/ayad
</span></span><span style=display:flex><span>Mar <span style=color:#c5a3ff>15</span> 16:27:08 wmt-sentry1 cosmovisor<span style=color:#ffb8d1>[</span>122764<span style=color:#ffb8d1>]</span>: 4:27PM ERR Error dialing peer err<span style=color:#ffb8d1>=</span><span style=color:#1bc5e0>&#34;dial tcp &lt;Validator.Node.Private.IP&gt;:26656: connect: connection refused&#34;</span> module<span style=color:#ffb8d1>=</span>p2p</span></span></code></pre></td></tr></table></div></div><blockquote><p>Note: Even though we see a <em>connect: connection refused</em> error at this point this is only due to the fact that we haven&rsquo;t yet started up our Validator for the first time. Seeing this error simply means our configuration has been laoded into our already configured <strong>Sentry Node</strong> successfully. Because we entered our Validator Node&rsquo;s ID into the <em>unconditional_peers</em> section of the config.toml file, this should not pose an issue.</p></blockquote></li></ol><p>We have now concluded our required edits to our already configured <strong>Sentry Node&rsquo;s</strong> set up. We need to make sure that we have completed the above steps to <strong>both</strong> of our Sentry Nodes.</p><p>We can now to return to our Valdiator Node to complete the rest of its set up.</p><ol start=17><li><p>Before running our <strong>Validator Node</strong> for the first time there are some initial configuration changes that need to be made to allow for smooth operation and connection the to aya_preview_501 Blockchain, and to ensure that connections between our own ENO Infrastructure&rsquo;s Nodes remain robust.</p><p>So now we navigate to the aya config folder and open the config.toml file for our Validator Node to make these changes.</p><p>We do this by entering the following group of commands</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd /opt/aya/config
</span></span><span style=display:flex><span>nano config.toml </span></span></code></pre></td></tr></table></div></div><p>We are now in the nano text editor, looking at the config.toml file contents for our Validator Node.</p><p>We now make the necessary changes to this file as follows</p><ul><li><p>Change the <strong>statesync</strong> option to be <strong>enable = true</strong> instead of <strong>false</strong><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#b0bec5>#######################################################</span>
</span></span><span style=display:flex><span><span style=color:#b0bec5>###         State Sync Configuration Options        ###</span>
</span></span><span style=display:flex><span><span style=color:#b0bec5>#######################################################</span>
</span></span><span style=display:flex><span><span style=color:#ffb8d1>[</span>statesync<span style=color:#ffb8d1>]</span>
</span></span><span style=display:flex><span><span style=color:#b0bec5># State sync rapidly bootstraps a new node by discovering, fetching, and restoring a state machine</span>
</span></span><span style=display:flex><span><span style=color:#b0bec5># snapshot from peers instead of fetching and replaying historical blocks. Requires some peers in</span>
</span></span><span style=display:flex><span><span style=color:#b0bec5># the network to take and serve state machine snapshots. State sync is not attempted if the node</span>
</span></span><span style=display:flex><span><span style=color:#b0bec5># has any local state (LastBlockHeight &gt; 0). The node will have a truncated block history,</span>
</span></span><span style=display:flex><span><span style=color:#b0bec5># starting from the height of the snapshot.</span>
</span></span><span style=display:flex><span>enable <span style=color:#ffb8d1>=</span> true </span></span></code></pre></td></tr></table></div></div></p></li><li><p>Change the <strong>pex</strong> option to be <strong>pex = false</strong> instead of <strong>true</strong><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#b0bec5># Set true to enable the peer-exchange reactor</span>
</span></span><span style=display:flex><span>pex <span style=color:#ffb8d1>=</span> false</span></span></code></pre></td></tr></table></div></div></p></li><li><p>Change the <strong>addr_book_strict</strong> option to be <strong>addr_book_strict = false</strong> instead of <strong>true</strong><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#b0bec5># Set true for strict address routability rules</span>
</span></span><span style=display:flex><span><span style=color:#b0bec5># Set false for private or local networks</span>
</span></span><span style=display:flex><span>addr_book_strict <span style=color:#ffb8d1>=</span> false</span></span></code></pre></td></tr></table></div></div></p></li><li><p>Change the <strong>persistent_peers_max_dial_period</strong> option to be <strong>persistent_peers_max_dial_period = &ldquo;30s&rdquo;</strong> instead of <strong>&ldquo;0s&rdquo;</strong><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#b0bec5># Maximum pause when redialing a persistent peer (if zero, exponential backoff is used)</span>
</span></span><span style=display:flex><span>persistent_peers_max_dial_period <span style=color:#ffb8d1>=</span> <span style=color:#1bc5e0>&#34;30s&#34;</span></span></span></code></pre></td></tr></table></div></div></p></li><li><p>Set the <strong>log_level</strong> to <strong>&ldquo;error&rdquo;</strong> instead of <strong>&ldquo;info&rdquo;</strong><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>log_level <span style=color:#ffb8d1>=</span> <span style=color:#1bc5e0>&#34;error&#34;</span></span></span></code></pre></td></tr></table></div></div></p></li><li><p>Set our already configured Sentry Nodes, that will seed Blockchain Data to our new Sentry Node, as persistent_peers<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#b0bec5># Comma separated list of nodes to keep persistent connections to</span>
</span></span><span style=display:flex><span>persistent_peers <span style=color:#ffb8d1>=</span> <span style=color:#1bc5e0>&#34;&lt;Sentry Node 1 Node ID&gt;@&lt;Sentry.Node1.Private.IP&gt;:26656,&lt;Sentry Node2 Node ID&gt;@&lt;Sentry.Node2.Private.IP&gt;:26656&#34;</span></span></span></code></pre></td></tr></table></div></div></p></li></ul><blockquote><p>Note: We replace <code>&lt;Sentry Node 1 ID></code> and <code>&lt;Sentry Node 2 ID></code> with our separately copied Sentry Node IDs from above, as well as <code>&lt;Sentry.Node1.Private.IP></code> and <code>&lt;Sentry.Node2.Private.IP></code> with each of our already configured Sentry Node&rsquo;s IPs, at this point, removing the surrounding &lt;></p></blockquote><ul><li>Add our alreay configured Sentry Node IDs to <strong>unconditional_peer_ids</strong><br><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#b0bec5># List of node IDs, to which a connection will be (re)established ignoring any existing limits</span>
</span></span><span style=display:flex><span>unconditional_peer_ids <span style=color:#ffb8d1>=</span> <span style=color:#1bc5e0>&#34;&lt;Sentry Node 1 ID&gt;,&lt;Sentry Node 2 ID&gt;&#34;</span></span></span></code></pre></td></tr></table></div></div></li></ul><blockquote><p>Note: We replace <code>&lt;Sentry Node 1 ID></code> and <code>&lt;Sentry Node 2 ID></code> with our separately copied Sentry Node IDs from above at this point, removing the surrounding &lt;></p></blockquote><p>At this point the initial editing work to our <strong>config.toml</strong> file is done, and it can now be saved with these changes.</p><p>To save the <strong>config.toml</strong> file within nano editor we press <strong>ctrl+x</strong> and then <strong>press y</strong>, followed by <strong>enter</strong>. This will save the file with the same filename as before.</p><p>Next we need to make some initial changes to the <strong>app.toml</strong> file contents for our Validator Node.</p><p>Luckily, the app.toml file we need to edit is in the same directory as config.toml.</p><p>So we do this by entering the following command</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>nano app.toml</span></span></code></pre></td></tr></table></div></div><p>We now make the necessary changes to this file as follows</p><ul><li>Replace GRPC port to not overlap with standard Prometheus port, replacing 9090 with 29090<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#b0bec5># Address defines the gRPC server address to bind to.</span>
</span></span><span style=display:flex><span>address <span style=color:#ffb8d1>=</span> <span style=color:#1bc5e0>&#34;localhost:29090&#34;</span></span></span></code></pre></td></tr></table></div></div></li><li>Make sure that the gas price units for our network are set to be 0uswmt<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#b0bec5># The minimum gas prices a validator is willing to accept for processing a</span>
</span></span><span style=display:flex><span><span style=color:#b0bec5># transaction. A transaction&#39;s fees must meet the minimum of any denomination</span>
</span></span><span style=display:flex><span><span style=color:#b0bec5># specified in this config (e.g. 0.25token1;0.0001token2).</span>
</span></span><span style=display:flex><span>minimum-gas-prices <span style=color:#ffb8d1>=</span> <span style=color:#1bc5e0>&#34;0uswmt&#34;</span></span></span></code></pre></td></tr></table></div></div></li><li>Change the API Configuration section <strong>enable</strong> option to be <strong>enable = true</strong> instead of <strong>false</strong><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#ffb8d1>[</span>api<span style=color:#ffb8d1>]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#b0bec5># Enable defines if the API server should be enabled.</span>
</span></span><span style=display:flex><span>enable <span style=color:#ffb8d1>=</span> true</span></span></code></pre></td></tr></table></div></div></li></ul><p>At this point the editing work to our <strong>app.toml</strong> file is done, and it can now be saved with these changes.</p><p>To save the app.toml file within nano editor we press <strong>ctrl+x</strong> and then <strong>press y</strong>, followed by <strong>enter</strong>. This will save the file with the same filename as before.</p></li><li><p>Now we need to export some environment variables to get our system ready to run our Validator Node for the first time.</p><p>We do this by entering the following group of commands</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>export DAEMON_NAME<span style=color:#ffb8d1>=</span>ayad
</span></span><span style=display:flex><span>export DAEMON_HOME<span style=color:#ffb8d1>=</span><span style=color:#1bc5e0>&#34;</span><span style=color:#1bc5e0>${</span>aya_home<span style=color:#1bc5e0>}</span><span style=color:#1bc5e0>&#34;</span>
</span></span><span style=display:flex><span>export DAEMON_DATA_BACKUP_DIR<span style=color:#ffb8d1>=</span><span style=color:#1bc5e0>&#34;</span><span style=color:#1bc5e0>${</span>aya_home<span style=color:#1bc5e0>}</span><span style=color:#1bc5e0>&#34;</span>/backup
</span></span><span style=display:flex><span>export DAEMON_RESTART_AFTER_UPGRADE<span style=color:#ffb8d1>=</span>true
</span></span><span style=display:flex><span>export DAEMON_ALLOW_DOWNLOAD_BINARIES<span style=color:#ffb8d1>=</span>true
</span></span><span style=display:flex><span>ulimit -Sn <span style=color:#c5a3ff>4096</span></span></span></code></pre></td></tr></table></div></div></li><li><p>Before proceeding to start up our Valdiator Node for the first time we will need to install some live monitoring software to see what it is doing once active.</p><p>We do this by entering the following group of commands</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd ~/
</span></span><span style=display:flex><span>mkdir nodebase-tools 
</span></span><span style=display:flex><span>cd nodebase-tools
</span></span><span style=display:flex><span>wget -O ayaview.zip https://github.com/nodebasewm/download/blob/main/ayaview.zip?raw<span style=color:#ffb8d1>=</span>true
</span></span><span style=display:flex><span>unzip ayaview.zip
</span></span><span style=display:flex><span>rm ayaview.zip</span></span></code></pre></td></tr></table></div></div></li><li><p>We will also quickly add some new Firewall Rules to our Server to <strong>only</strong> allow Incoming connections from our already configured Sentry Node&rsquo;s to come into our Validator Node once it has started.</p><p>What command we need to enter to do this will depend on how our Server is set up to handle Firewall Rules.</p><p>If our Server is using <strong>ufw</strong> to handle Firewall Rules (most likely for most installs) we need to enter the following command to accept Incoming connections over Port 26656 (a Node&rsquo;s default Port)</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo ufw allow from &lt;Sentry.Node1.Private.IP&gt; to any port <span style=color:#c5a3ff>26656</span> proto tcp
</span></span><span style=display:flex><span>sudo ufw allow from &lt;Sentry.Node2.Private.IP&gt; to any port <span style=color:#c5a3ff>26656</span> proto tcp</span></span></code></pre></td></tr></table></div></div><p>If our Server is using iptables to handle Firewall Rules we need to enter the following group of commands to accept Incoming connections over Port 26656 (a Node&rsquo;s default Port)</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo iptables -I INPUT -p tcp -s &lt;Sentry.Node1.Private.IP&gt; --dport <span style=color:#c5a3ff>26656</span> -j ACCEPT
</span></span><span style=display:flex><span>sudo iptables -I INPUT -p tcp -s &lt;Sentry.Node2.Private.IP&gt; --dport <span style=color:#c5a3ff>26656</span> -j ACCEPT
</span></span><span style=display:flex><span>sudo service iptables save</span></span></code></pre></td></tr></table></div></div><p>If we haven&rsquo;t yet set up our Firewall Rules at all, we can follow the steps laid out over at <a href=/docs/configuration/firewall/>Firewall Configuration</a> to do this.</p></li><li><p>Now we shall set up some variables that will be used in the next step to allow us to quickly manually start up our Validator, and let it begin its statesync process.</p><p>We do this by entering the following group of commands</p><blockquote><p>Note: We need to <strong>make sure</strong> we have replaced <strong>&lt;Sentry.Node1.Private.IP></strong> and <strong>&lt;Sentry.Node2.Private.IP></strong> below with the <strong>Private IP addresses</strong> that come from each of our Sentry Nodes, removing the surrounding <strong>&lt;>s</strong>, before entering this group of commands.</p><p>We can do this by copying the above group of commands below into a separate, temporary, text file and making any required edits before finally copying and pasting them into our Validator Node&rsquo;s terminal window.</p></blockquote><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>RPC_PEER_1<span style=color:#ffb8d1>=</span><span style=color:#1bc5e0>&#34;&lt;Sentry.Node1.Private.IP&gt;&#34;</span>
</span></span><span style=display:flex><span>RPC_PEER_2<span style=color:#ffb8d1>=</span><span style=color:#1bc5e0>&#34;&lt;Sentry.Node2.Private.IP&gt;&#34;</span></span></span></code></pre></td></tr></table></div></div></li><li><p>With the Firewall Rules added, and our Sentry Nodes&rsquo; Private IP addresses set, we are now going to start up our Valdiator Node for the first time, manually.</p><blockquote><p>Note: Later we will be setting up a service file to have our Node automatically restart on Server reboot, or following a crash. For now though we will proceed manually.</p></blockquote><p>We do this by entering the following group of commands</p><blockquote><p>Note: There is a lot of automated scripting shown below that has to be run before first boot of Node to ensure that it will start to sync the chain. It will not be needed again for future start ups.</p><p>We need to <strong>make sure</strong> that this <strong>whole set</strong> of commands below is copied and pasted into our Terminal window as a <strong>single, whole, blob</strong>, and is <strong>not</strong> entered piecemeal, in order for the blob to work properly.</p></blockquote><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>INTERVAL<span style=color:#ffb8d1>=</span><span style=color:#c5a3ff>100</span>
</span></span><span style=display:flex><span>LATEST_HEIGHT<span style=color:#ffb8d1>=</span><span style=color:#c2ffdf>$(</span>curl -s <span style=color:#1bc5e0>&#34;&#34;</span><span style=color:#1bc5e0>${</span>RPC_PEER_1<span style=color:#1bc5e0>}</span><span style=color:#1bc5e0>&#34;:26657/block&#34;</span> | jq -r .result.block.header.height<span style=color:#c2ffdf>)</span>
</span></span><span style=display:flex><span>BLOCK_HEIGHT<span style=color:#ffb8d1>=</span><span style=color:#c2ffdf>$((</span><span style=color:#ffb8d1>(</span><span style=color:#c2ffdf>$((</span>LATEST_HEIGHT <span style=color:#ffb8d1>/</span> INTERVAL<span style=color:#c2ffdf>))</span> <span style=color:#ffb8d1>-</span> <span style=color:#c5a3ff>1</span><span style=color:#ffb8d1>)</span> <span style=color:#ffb8d1>*</span> INTERVAL <span style=color:#ffb8d1>+</span> <span style=color:#c2ffdf>$((</span>INTERVAL <span style=color:#ffb8d1>/</span> <span style=color:#c5a3ff>2</span><span style=color:#c2ffdf>))))</span>
</span></span><span style=display:flex><span>TRUST_HASH<span style=color:#ffb8d1>=</span><span style=color:#c2ffdf>$(</span>curl -s <span style=color:#1bc5e0>&#34;&#34;</span><span style=color:#1bc5e0>${</span>RPC_PEER_1<span style=color:#1bc5e0>}</span><span style=color:#1bc5e0>&#34;:26657/block?height=</span><span style=color:#1bc5e0>${</span>BLOCK_HEIGHT<span style=color:#1bc5e0>}</span><span style=color:#1bc5e0>&#34;</span> | jq -r .result.block_id.hash<span style=color:#c2ffdf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#b0bec5># Set available RPC servers (at least two) required for light client snapshot verification</span>
</span></span><span style=display:flex><span>sed -i -E <span style=color:#1bc5e0>&#34;s|^(rpc_servers[[:space:]]+=[[:space:]]+).*</span>$<span style=color:#1bc5e0>|\1\&#34;&#34;</span><span style=color:#1bc5e0>${</span>RPC_PEER_1<span style=color:#1bc5e0>}</span><span style=color:#1bc5e0>&#34;:26657,&#34;</span><span style=color:#1bc5e0>${</span>RPC_PEER_2<span style=color:#1bc5e0>}</span><span style=color:#1bc5e0>&#34;:26657\&#34;|&#34;</span> <span style=color:#1bc5e0>&#34;</span><span style=color:#1bc5e0>${</span>aya_home<span style=color:#1bc5e0>}</span><span style=color:#1bc5e0>&#34;</span>/config/config.toml
</span></span><span style=display:flex><span><span style=color:#b0bec5># Set &#34;safe&#34; trusted block height</span>
</span></span><span style=display:flex><span>sed -i -E <span style=color:#1bc5e0>&#34;s|^(trust_height[[:space:]]+=[[:space:]]+).*</span>$<span style=color:#1bc5e0>|\1</span>$BLOCK_HEIGHT<span style=color:#1bc5e0>|&#34;</span> <span style=color:#1bc5e0>&#34;</span><span style=color:#1bc5e0>${</span>aya_home<span style=color:#1bc5e0>}</span><span style=color:#1bc5e0>&#34;</span>/config/config.toml
</span></span><span style=display:flex><span><span style=color:#b0bec5># Set &#34;qsafe&#34; trusted block hash</span>
</span></span><span style=display:flex><span>sed -i -E <span style=color:#1bc5e0>&#34;s|^(trust_hash[[:space:]]+=[[:space:]]+).*</span>$<span style=color:#1bc5e0>|\1\&#34;</span>$TRUST_HASH<span style=color:#1bc5e0>\&#34;|&#34;</span> <span style=color:#1bc5e0>&#34;</span><span style=color:#1bc5e0>${</span>aya_home<span style=color:#1bc5e0>}</span><span style=color:#1bc5e0>&#34;</span>/config/config.toml
</span></span><span style=display:flex><span><span style=color:#b0bec5># Set trust period, should be ~2/3 unbonding time (3 weeks for preview network)</span>
</span></span><span style=display:flex><span>sed -i -E <span style=color:#1bc5e0>&#34;s|^(trust_period[[:space:]]+=[[:space:]]+).*</span>$<span style=color:#1bc5e0>|\1\&#34;302h0m0s\&#34;|&#34;</span> <span style=color:#1bc5e0>&#34;</span><span style=color:#1bc5e0>${</span>aya_home<span style=color:#1bc5e0>}</span><span style=color:#1bc5e0>&#34;</span>/config/config.toml
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>cd ~/earthnode_installer
</span></span><span style=display:flex><span><span style=color:#1bc5e0>&#34;</span><span style=color:#1bc5e0>${</span>aya_home<span style=color:#1bc5e0>}</span><span style=color:#1bc5e0>&#34;</span>/cosmovisor/cosmovisor run start --home <span style=color:#1bc5e0>${</span>aya_home<span style=color:#1bc5e0>}</span> &amp;&gt;&gt;<span style=color:#1bc5e0>&#34;</span><span style=color:#1bc5e0>${</span>cosmovisor_logfile<span style=color:#1bc5e0>}</span><span style=color:#1bc5e0>&#34;</span> &amp;</span></span></code></pre></td></tr></table></div></div><p>We have now started our Node software for the first time!</p></li><li><p>Now we shall proceed to monitoring it.</p><p>We do this by entering the following group of commands</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd ~/nodebase-tools 
</span></span><span style=display:flex><span>./ayaview</span></span></code></pre></td></tr></table></div></div><p>The ayaview software will start up and visually show us the Blockchain data being downloaded to bring us up to date with the current tip of the chain.</p><p>We will know it has caught up to the current state of the Chain once the Block Height column stops counting up so quickly, and starts adding just 1 new Block Height to left hand table only around every 5-6 seconds.</p><p>Once we are up to date with the current tip of the Chain we need to do some tidy up work on both the config.toml and app.toml files that we edited before the first run of our Node.</p><p>We can do this by first pressing q on the ayaview console to quit out of it and then by entering the following group of commands</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd /opt/aya/config/
</span></span><span style=display:flex><span>nano config.toml</span></span></code></pre></td></tr></table></div></div><p>We are now back in the nano text editor, looking at the config.toml file contents for our Validator Node.</p><p>We now make the necessary changes to this file as follows</p><ul><li>change the <strong>statesync</strong> option to be <strong>enable = false</strong> instead of <strong>true</strong></li></ul><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#b0bec5>#######################################################</span>
</span></span><span style=display:flex><span><span style=color:#b0bec5>###         State Sync Configuration Options        ###</span>
</span></span><span style=display:flex><span><span style=color:#b0bec5>#######################################################</span>
</span></span><span style=display:flex><span><span style=color:#ffb8d1>[</span>statesync<span style=color:#ffb8d1>]</span>
</span></span><span style=display:flex><span><span style=color:#b0bec5># State sync rapidly bootstraps a new node by discovering, fetching, and restoring a state machine</span>
</span></span><span style=display:flex><span><span style=color:#b0bec5># snapshot from peers instead of fetching and replaying historical blocks. Requires some peers in</span>
</span></span><span style=display:flex><span><span style=color:#b0bec5># the network to take and serve state machine snapshots. State sync is not attempted if the node</span>
</span></span><span style=display:flex><span><span style=color:#b0bec5># has any local state (LastBlockHeight &gt; 0). The node will have a truncated block history,</span>
</span></span><span style=display:flex><span><span style=color:#b0bec5># starting from the height of the snapshot.</span>
</span></span><span style=display:flex><span>enable <span style=color:#ffb8d1>=</span> false</span></span></code></pre></td></tr></table></div></div><p>At this point the tidy up editing work to our config.toml file is done, and it can now be saved with these changes.</p><p>To save the config.toml file within nano editor we press ctrl+x and then press y, followed by enter. This will save the file with the same filename as before.</p><blockquote><p>Note: This <strong>config.toml</strong> file edit above should only be completed once we are SURE that our Node is up to date with the current state of the Chain. We DO NOT make this edit before our Node has fully synced to the current Block Height ayaview, and is adding a new Block around every 5-6 seconds.</p></blockquote></li><li><p>At present, our Node should be running along nicely in the background and keeping up to date with the current state of the Chain, but we still have to complete some more steps before we have fully completed our Valdiator Node&rsquo;s initial set up.</p><p>First we to ensure that we have saved all of our Node&rsquo;s important data, needed for future reference both by tools and by us.</p><p>We do this by entering the following group of commands<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd ~/earthnode_installer
</span></span><span style=display:flex><span><span style=color:#b0bec5># Get the address of the validator</span>
</span></span><span style=display:flex><span>validator_address<span style=color:#ffb8d1>=</span><span style=color:#c2ffdf>$(</span>./ayad tendermint show-address --home <span style=color:#1bc5e0>${</span>aya_home<span style=color:#1bc5e0>}</span><span style=color:#c2ffdf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#b0bec5># Use &#39;jq&#39; to create a JSON object with the &#39;moniker&#39;, &#39;operator_address&#39; and &#39;validator_address&#39; fields</span>
</span></span><span style=display:flex><span>jq --arg key0 <span style=color:#1bc5e0>&#39;moniker&#39;</span> <span style=color:#1bc5e0>\
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0></span>   --arg value0 <span style=color:#1bc5e0>&#34;</span>$moniker<span style=color:#1bc5e0>&#34;</span> <span style=color:#1bc5e0>\
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0></span>   --arg key1 <span style=color:#1bc5e0>&#39;operator_address&#39;</span> <span style=color:#1bc5e0>\
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0></span>   --arg value1 <span style=color:#1bc5e0>&#34;</span>$operator_address<span style=color:#1bc5e0>&#34;</span> <span style=color:#1bc5e0>\
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0></span>   --arg key2 <span style=color:#1bc5e0>&#39;validator_address&#39;</span> <span style=color:#1bc5e0>\
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0></span>   --arg value2 <span style=color:#1bc5e0>&#34;</span>$validator_address<span style=color:#1bc5e0>&#34;</span> <span style=color:#1bc5e0>\
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0></span>   <span style=color:#1bc5e0>&#39;. | .[$key0]=$value0 | .[$key1]=$value1 | .[$key2]=$value2&#39;</span> <span style=color:#1bc5e0>\
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0></span> <span style=color:#ffb8d1>&lt;&lt;&lt;</span><span style=color:#1bc5e0>&#39;{}&#39;</span> | tee $en_registration_json    
</span></span><span style=display:flex><span> </span></span></code></pre></td></tr></table></div></div></p><p>This will save our Validator Node&rsquo;s data to the filename registration.json in the <strong>/opt/aya</strong> directory.</p></li><li><p>Next we want to set up some symbolic links for the &lsquo;ayad&rsquo; and &lsquo;cosmovisor&rsquo; binaries so that their specific commands can be called from anywhere on our Node&rsquo;s filesystem.</p><p>We do this by entering the following group of commands<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo ln -s $aya_home/cosmovisor/current/bin/ayad /usr/local/bin/ayad &gt;/dev/null 2&gt;&amp;<span style=color:#c5a3ff>1</span>
</span></span><span style=display:flex><span>sudo ln -s $aya_home/cosmovisor/cosmovisor /usr/local/bin/cosmovisor &gt;/dev/null 2&gt;&amp;<span style=color:#c5a3ff>1</span></span></span></code></pre></td></tr></table></div></div></p></li><li><p>And finally, we want to create a systemd service file that will allow our Node to automatically start on a reboot of our Server and to automatically attempt to restart itself on any crashes.</p><p>We do this by entering the following group of commands</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo tee /etc/systemd/system/cosmovisor.service &gt; /dev/null <span style=color:#1bc5e0>&lt;&lt;EOF
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0># Start the &#39;cosmovisor&#39; daemon 
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0># Create a Systemd service file for the &#39;cosmovisor&#39; daemon
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>[Unit]
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>Description=Aya Node
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>After=network-online.target
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>[Service]
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>User=$USER
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0># Start the &#39;cosmovisor&#39; daemon with the &#39;run start&#39; command and write output to journalctl
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>ExecStart=$(which cosmovisor) run start --home &#34;${aya_home}&#34;
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0># Restart the service if it fails
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>Restart=always
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0># Restart the service after 3 seconds if it fails
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>RestartSec=3
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0># Set the maximum number of file descriptors
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>LimitNOFILE=4096
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0># Set environment variables for data backups, automatic downloading of binaries, and automatic restarts after upgrades
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>Environment=&#34;DAEMON_NAME=ayad&#34;
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>Environment=&#34;DAEMON_HOME=${aya_home}&#34;
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>Environment=&#34;DAEMON_DATA_BACKUP_DIR=${aya_home}/backup&#34;
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>Environment=&#34;DAEMON_ALLOW_DOWNLOAD_BINARIES=true&#34;
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>Environment=&#34;DAEMON_RESTART_AFTER_UPGRADE=true&#34;
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>[Install]
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0># Start the service on system boot
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>WantedBy=multi-user.target
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>EOF</span></span></span></code></pre></td></tr></table></div></div><p>This will have added a new service file to our Server under the path /etc/systemd/system named cosmovisor.service. This service file is what will be called when the Server reboots, or if our Node crashes.</p></li><li><p>With the service now created, we now need to enable it for future use.</p><p>We do this by entering the following group of commands</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#b0bec5># Reload the Systemd daemon</span>
</span></span><span style=display:flex><span>sudo systemctl daemon-reload
</span></span><span style=display:flex><span><span style=color:#b0bec5># Enable the &#39;cosmovisor&#39; service to start on system boot</span>
</span></span><span style=display:flex><span>sudo systemctl enable cosmovisor</span></span></code></pre></td></tr></table></div></div><p>We can now confirm that our service is ready to be started by entering the following command.</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo systemctl status cosmovisor.service</span></span></code></pre></td></tr></table></div></div><p>This should show us the following</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>○ cosmovisor.service - Aya Node
</span></span><span style=display:flex><span>    Loaded: loaded <span style=color:#ffb8d1>(</span>/etc/systemd/system/cosmovisor.service; enabled; vendor preset: enabled<span style=color:#ffb8d1>)</span>
</span></span><span style=display:flex><span>    Active: inactive <span style=color:#ffb8d1>(</span>dead<span style=color:#ffb8d1>)</span></span></span></code></pre></td></tr></table></div></div><p>If we see this, we know we have successfully installed our Aya Node Service.</p></li><li><p>All that remains now, is to close down our first run of our Node and to restart it using this newly installed Service instead of manually launching our Node as before.</p><p>To do this, we need to identify what the current process number of our still running first run Node is.</p><p>We do this by entering the following command</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ps -ef | grep cosmovisor</span></span></code></pre></td></tr></table></div></div><p>The output of this command should something like this</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>wmt       <span style=color:#c5a3ff>147797</span>  <span style=color:#c5a3ff>146916</span>  <span style=color:#c5a3ff>0</span> 16:44 pts/0    00:00:00 /opt/aya/cosmovisor/cosmovisor run start --home /opt/aya
</span></span><span style=display:flex><span>wmt       <span style=color:#c5a3ff>147803</span>  <span style=color:#c5a3ff>147797</span> <span style=color:#c5a3ff>11</span> 16:44 pts/0    00:01:05 /opt/aya/cosmovisor/genesis/bin/ayad start --home /opt/aya
</span></span><span style=display:flex><span>wmt       <span style=color:#c5a3ff>148235</span>  <span style=color:#c5a3ff>146916</span>  <span style=color:#c5a3ff>0</span> 16:54 pts/0    00:00:00 grep --color<span style=color:#ffb8d1>=</span>auto cosmovisor</span></span></code></pre></td></tr></table></div></div><p>What we are looking for is the leftmost number appearing for the line that contains &ldquo;/opt/aya/cosmovisor/cosmovisor run start &ndash;home /opt/aya&rdquo; on its right hand side</p><p>In the above example, this number is 147797.</p><p>Our number will be different, and we need to take a note of it for the next step.</p><p>Once we have this number we can now use it to turn off our first run Node that has served us so well to get our Blockchain sync up to date with the current tip of the Chain.</p><p>We do this by entering the following command
Note: We replace <code>&lt;number></code> with our noted number from above at this point, removing the surrounding &lt;></p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo kill &lt;number&gt;</span></span></code></pre></td></tr></table></div></div><p>We have now killed our running Node, but don&rsquo;t worry, we are going to bring it right back to life. Except this time, as a Service!</p><p>To do this we enter the following command<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo systemctl start cosmovisor.service</span></span></code></pre></td></tr></table></div></div></p><p>Now we need to check that cosmovisor.service has started properly.</p><p>We do this by entering the following command<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo systemctl status cosmovisor.service</span></span></code></pre></td></tr></table></div></div></p><p>When we ran this command previously it said our Aya Node Service was inactive (dead), this time it should say something like the following<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cosmovisor.service - Aya Node
</span></span><span style=display:flex><span>    Loaded: loaded <span style=color:#ffb8d1>(</span>/etc/systemd/system/cosmovisor.service; enabled; vendor preset: enabled<span style=color:#ffb8d1>)</span>
</span></span><span style=display:flex><span>    Active: active <span style=color:#ffb8d1>(</span>running<span style=color:#ffb8d1>)</span> since Wed 2023-03-01 04:06:05 UTC; 4s ago
</span></span><span style=display:flex><span>Main PID: <span style=color:#c5a3ff>34791</span> <span style=color:#ffb8d1>(</span>cosmovisor<span style=color:#ffb8d1>)</span>
</span></span><span style=display:flex><span>    Tasks: <span style=color:#c5a3ff>15</span> <span style=color:#ffb8d1>(</span>limit: 4573<span style=color:#ffb8d1>)</span>
</span></span><span style=display:flex><span>    Memory: 382.3M
</span></span><span style=display:flex><span>        CPU: 5.063s
</span></span><span style=display:flex><span>    CGroup: /system.slice/cosmovisor.service
</span></span><span style=display:flex><span>            ├─34791 /usr/local/bin/cosmovisor run start --home /opt/aya
</span></span><span style=display:flex><span>            └─34796 /opt/aya/cosmovisor/genesis/bin/ayad start --home /opt/aya 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Mar <span style=color:#c5a3ff>01</span> 04:06:05 localhost systemd<span style=color:#ffb8d1>[</span>1<span style=color:#ffb8d1>]</span>: Started Aya Node.
</span></span><span style=display:flex><span>Mar <span style=color:#c5a3ff>01</span> 04:06:05 localhost cosmovisor<span style=color:#ffb8d1>[</span>34791<span style=color:#ffb8d1>]</span>: 4:06AM INF running app args<span style=color:#ffb8d1>=[</span><span style=color:#1bc5e0>&#34;start&#34;</span>,<span style=color:#1bc5e0>&#34;--home&#34;</span>,<span style=color:#1bc5e0>&#34;/opt/aya&#34;</span><span style=color:#ffb8d1>]</span> module<span style=color:#ffb8d1>=</span>cosmovisor path<span style=color:#ffb8d1>=</span>/opt/aya/cosmovisor/genesis/bin/ayad</span></span></code></pre></td></tr></table></div></div></p><p>Some details will be different to the above example, but this should be the general layout. The important point is that it should say &lsquo;active (running)&rsquo; in green.</p></li><li><p>We can now confirm everything is continuing to sync from the Blockchain by going back to our ayaview console and watching to see if the Block Height is still slowly ticking upwards as before.</p><p>We do this by entering the following group of commands<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd ~/nodebase-tools
</span></span><span style=display:flex><span>./ayaview</span></span></code></pre></td></tr></table></div></div></p><p>If everything is working as it should our ayaview console should now be showing us the Aya Blockchain ticking on by once more, around every 5-6 seconds.</p></li></ol><p>At this stage in the guide, we have successfully completed setting up a Validator Node that is able to <strong>privately</strong> sync with the Aya Blockchain, through <strong>only</strong> our already configured Sentry Nodes, but we have <strong>not</strong> yet used it to Register our EarthNode Stake Pool to both the Cardano and Aya Network Blockchains.</p><p>So, we shall now proceed to doing this.</p><blockquote><p>Note: Before proceeding, we press q to leave ayaview.</p></blockquote><ol start=30><li><p>First we need to obtain the details needed for our ENNFT Registration on the Cardano Blockchain side of the equation. We have actually already been shown them earlier, but let&rsquo;s just get them again.</p><p>We do this by entering the following command</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cat /opt/aya/registration.json</span></span></code></pre></td></tr></table></div></div><p>The output of this command should look something like this</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#ffb8d1>{</span>
</span></span><span style=display:flex><span>  <span style=color:#1bc5e0>&#34;moniker&#34;</span>: <span style=color:#1bc5e0>&#34;&lt;our Validator Node Moniker&gt;&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#1bc5e0>&#34;operator_address&#34;</span>: <span style=color:#1bc5e0>&#34;&lt;our Operator Address beginning aya1, followed by a random string of letters and numbers&gt;&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#1bc5e0>&#34;validator_address&#34;</span>: <span style=color:#1bc5e0>&#34;&lt;our Validator Address beginning ayavalcons1, followed by a random string of letters and numbers&gt;&#34;</span>
</span></span><span style=display:flex><span><span style=color:#ffb8d1>}</span></span></span></code></pre></td></tr></table></div></div><blockquote><p>Note: At this point we want to copy and paste the output of this command, including its surrounding {}s, to a separate, temporary, text file on our machine.</p></blockquote></li><li><p>Now we need to open a web browser and navigate to <a href=https://tinyurl.com/wmeno>https://tinyurl.com/wmeno</a> and click on the <strong>EarthNode Registration</strong> tab at the top of the page.</p></li><li><p>Next we need to connect our Cardano Preview Testnet Wallet that contains our Testnet EarthNode NFT to be Registered to this EarthNode Registration site.</p><p>We do this by</p><p>a) Ensuring the Wallet containing our Testnet EarthNode NFT is the one currently selected for dApp connections in our Cardano Wallet Browser Extension
b) Esnuring that it has enough collateral set to enable sumbission of Smart Contract Transactions (5 ADA should be enough)
and then
c) By clicking on the Connect Wallet Button on the site EarthNode Registration site</p><blockquote><p>Note: Once our Preview Testnet Wallet is connected the <strong>EarthNode NFTs in your Wallet:</strong> section of the EarthNode Registration site should populate with the EarthNodeNFT# numbers that you hold in your Preview Testnet Wallet.</p></blockquote></li><li><p>Now we need to click on the EarthNodeNFT# number we wish to associate with our newly set up Validator Node.</p></li><li><p>Next we make sure we have RegisterEarthNode selected under the <strong>Select Transaction Type:</strong> Dropdown Menu.</p></li><li><p>And now we need to paste in the previously copied information, obtained during step 32 above, into the <strong>Paste Installation Script Output:</strong> Box and press the <strong>Build Transaction</strong> Button.</p><blockquote><p>Note: We will now be asked for our Preview Testnet Wallet&rsquo;s Spending Password at this point in order to Authorise the Registration Transaction to be Posted On-Chain on the Cardano Preview Testnet Newtork.</p></blockquote></li><li><p>We need to enter our Spending Password and click Sign.</p><p>This should then show us a <strong>Transaction Successful!</strong> message on the EarthNode Registration Page along with a Transaction Hash that corresponds to the Transaction ID that will appear on the Cardano Blockchain.</p><blockquote><p>Note: Whilst the Transaction itself has now been successfully submitted, it may still take a little bit of time for it to appear On the Cardano Blockchain. There will be a link at the bottom of the EarthNode Registration site that will take us to an external page to reload until we see the Transcation finally go through. Once we see this Transaction appear on that page. We can proceed to the next step.</p></blockquote></li><li><p>Now we return to our Validator Node&rsquo;s Terminal Window as before, and complete the final steps to get our EarthNode Stake Pool online. The first thing we will do is make sure that our Operator Address received 5 uswmt Tokens to be able to complete the Aya Network side of our Stake Pool Registration.</p><p>We do this by entering the following command</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ayad query bank balances &lt;our Operator Address&gt; --home $aya_home</span></span></code></pre></td></tr></table></div></div><blockquote><p>Note: We replace <code>&lt;our Operator Address></code> with the full operator_address detail that begins with <em>aya1</em> from the information we obtained for EarthNode Registration in step 32, removing the surrounding &lt;></p></blockquote><p>If Registration on the Cardano Blockchain side has been successful, this command should give us the following output</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>balances:
</span></span><span style=display:flex><span>- amount: <span style=color:#1bc5e0>&#34;5&#34;</span>
</span></span><span style=display:flex><span>  denom: uswmt
</span></span><span style=display:flex><span>pagination:
</span></span><span style=display:flex><span>  next_key: null
</span></span><span style=display:flex><span>  total: <span style=color:#1bc5e0>&#34;0&#34;</span></span></span></code></pre></td></tr></table></div></div><blockquote><p>Note: A balance amount of &ldquo;5&rdquo; appearing in this output means that The Cardano Transaction triggered our Operator Address being topped up with 5 uswmt to be used to set up our EarthNode Stake Pool on the Aya Blockchain side. The side we are now working with.</p></blockquote></li><li><p>Now we need to Register our EarthNode Stake Pool to the Aya Blockchain Network.</p><p>We do this by entering the following group of commands</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ayad tx staking create-validator <span style=color:#1bc5e0>\
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0></span>  --amount<span style=color:#ffb8d1>=</span>1uswmt <span style=color:#1bc5e0>\
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0></span>  --pubkey<span style=color:#ffb8d1>=</span><span style=color:#1bc5e0>&#34;</span><span style=color:#c2ffdf>$(</span>ayad tendermint show-validator --home <span style=color:#1bc5e0>${</span>aya_home<span style=color:#1bc5e0>}</span><span style=color:#c2ffdf>)</span><span style=color:#1bc5e0>&#34;</span> <span style=color:#1bc5e0>\
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0></span>  --moniker<span style=color:#ffb8d1>=</span><span style=color:#1bc5e0>&#34;</span>$moniker<span style=color:#1bc5e0>&#34;</span> <span style=color:#1bc5e0>\
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0></span>  --chain-id<span style=color:#ffb8d1>=</span><span style=color:#1bc5e0>&#34;</span>$CHAIN_ID<span style=color:#1bc5e0>&#34;</span> <span style=color:#1bc5e0>\
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0></span>  --commission-rate<span style=color:#ffb8d1>=</span><span style=color:#1bc5e0>&#34;0.10&#34;</span> <span style=color:#1bc5e0>\
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0></span>  --commission-max-rate<span style=color:#ffb8d1>=</span><span style=color:#1bc5e0>&#34;0.20&#34;</span> <span style=color:#1bc5e0>\
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0></span>  --commission-max-change-rate<span style=color:#ffb8d1>=</span><span style=color:#1bc5e0>&#34;0.01&#34;</span> <span style=color:#1bc5e0>\
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0></span>  --min-self-delegation<span style=color:#ffb8d1>=</span><span style=color:#1bc5e0>&#34;1&#34;</span> <span style=color:#1bc5e0>\
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0></span>  --from<span style=color:#ffb8d1>=</span><span style=color:#1bc5e0>&#34;</span>$account<span style=color:#1bc5e0>&#34;</span> <span style=color:#1bc5e0>\
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0></span>  --home <span style=color:#1bc5e0>${</span>aya_home<span style=color:#1bc5e0>}</span> <span style=color:#1bc5e0>\
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0></span>  --output json <span style=color:#1bc5e0>\
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0></span>  --yes </span></span></code></pre></td></tr></table></div></div><blockquote><p>Note: After entering this group of commands we will be asked to enter the Spending Password we set up earlier in the guide specifically for our Validator Account. We must enter it now.</p></blockquote><p>If the Transcation has been successful we should see an output that contains a txhash value that consists of a string of capital letters and numbers, along with a lot of other information in JSON format, that looks something like this</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#ffb8d1>{</span><span style=color:#1bc5e0>&#34;height&#34;</span>:<span style=color:#1bc5e0>&#34;0&#34;</span>,<span style=color:#1bc5e0>&#34;txhash&#34;</span>:<span style=color:#1bc5e0>&#34;&lt;Transaction Hash containing capital letters and numbers&gt;&#34;</span>,<span style=color:#1bc5e0>&#34;codespace&#34;</span>:<span style=color:#1bc5e0>&#34;&#34;</span>,<span style=color:#1bc5e0>&#34;code&#34;</span>:0,<span style=color:#1bc5e0>&#34;data&#34;</span>:<span style=color:#1bc5e0>&#34;&#34;</span>,<span style=color:#1bc5e0>&#34;raw_log&#34;</span>:<span style=color:#1bc5e0>&#34;[]&#34;</span>,<span style=color:#1bc5e0>&#34;logs&#34;</span>:<span style=color:#ffb8d1>[]</span>,<span style=color:#1bc5e0>&#34;info&#34;</span>:<span style=color:#1bc5e0>&#34;&#34;</span>,<span style=color:#1bc5e0>&#34;gas_wanted&#34;</span>:<span style=color:#1bc5e0>&#34;0&#34;</span>,<span style=color:#1bc5e0>&#34;gas_used&#34;</span>:<span style=color:#1bc5e0>&#34;0&#34;</span>,<span style=color:#1bc5e0>&#34;tx&#34;</span>:null,<span style=color:#1bc5e0>&#34;timestamp&#34;</span>:<span style=color:#1bc5e0>&#34;&#34;</span>,<span style=color:#1bc5e0>&#34;events&#34;</span>:<span style=color:#ffb8d1>[]}</span></span></span></code></pre></td></tr></table></div></div></li><li><p>Now we now need to go and see if our Validator has been successfully Registered on the Aya Blockchain Network by opening our browser and going to <a href=https://wmt-explorer.com/AyaChain>https://wmt-explorer.com/AyaChain</a></p><p>Once there we need to look at the &lsquo;New joined EarthNode Validators&rsquo; section and check to see if the Monkier we gave our EarthNode Stake Pool has appeared in the list.</p></li><li><p>Finally, we need to go back to ayaview and make sure the status of our Node has been updated to say that the Validator reports <strong>Status: BONDED</strong> and <strong>Signing: Active</strong>. Which should be visable in the upper left box of the ayaview console.</p><p>We do this by entering the following group of commands<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd ~/nodebase-tools
</span></span><span style=display:flex><span>./ayaview</span></span></code></pre></td></tr></table></div></div></p></li></ol><p>If the Moniker appears om the wmt-exploer website, and ayaview reports what we are expecting to see above, <strong>Congratulations!</strong> We have now successfully completed setting up both our Validator Node <strong>AND</strong> our EarthNode Stake Pool!</p></div><div class=td-content style=page-break-before:always><h1 id=pg-5efeafd9bd8fb47164fcc343fa5b081f>6.3 - 3. Cardano Chain Follower Manual Installation and root-list Registration</h1><div class=lead>Full Installation Guide for installing a Cardano Chain Follower Service and registering it to the Cardano Chain Follower root-list.</div><p><strong>Written by Nodebase Team member <a href=https://twitter.com/intertreeJK>intertree (Johnny Kelly)</a></strong></p><h1 id=introduction>Introduction</h1><p>The following guide will take you through all manual steps to be taken to have a fully running Cardano Chain Follower. Taking you through how attach it to an existing public Cardano API Server, as well as how to register your EarthNode to the Cardano Chain Follower root-list via 2 On-Chain Registration Transactions on the Aya Network.</p><p>At the moment, this installation <strong>only</strong> requires set up through an existing On-Chain Registered <strong>Validator</strong> Node. In the future proxy connection methods may be introduced, but, for now, connections are directly made from your EarthNode Validator to a pre-configured Cardano API Server Endpoint.</p><p>This guide assumes you have already set up both of your Sentry Nodes and your EarthNode Validator, and have Registered your Validator to the Chain, using the steps laid out over at <a href=/docs/tutorials/sentrynodemanual/>Sentry Node Manual Installation</a> and <a href=/docs/tutorials/validatornodemanual/>Validator Node Manual Installation</a>, respectively.</p><p>Now, with this introduction out of the way, we shall proceed with the guide!</p><h1 id=step-by-step-installation-guide>Step-By-Step Installation Guide</h1><ol><li><p>Logged in as user wmt we first start by making the base directory for the Cardano Chain Follower files that are to be installed on our Node.</p><p>We do this by entering the following group of commands</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo mkdir -p /opt/aya/ccf
</span></span><span style=display:flex><span>sudo chown <span style=color:#1bc5e0>&#34;</span><span style=color:#1bc5e0>${</span>USER<span style=color:#1bc5e0>}</span><span style=color:#1bc5e0>:</span><span style=color:#1bc5e0>${</span>USER<span style=color:#1bc5e0>}</span><span style=color:#1bc5e0>&#34;</span> /opt/aya/ccf</span></span></code></pre></td></tr></table></div></div></li><li><p>Next we set the aya_home environment variable so that further installation steps can be simplified.</p><p>We do this by entering the following group of commands</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>aya_home<span style=color:#ffb8d1>=</span>/opt/aya</span></span></code></pre></td></tr></table></div></div></li><li><p>Now we install a required prerequisite package (libpq-dev) for the successful completion of installation steps.</p><p>We do this by entering the following group of commands<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt-get update
</span></span><span style=display:flex><span>sudo apt install libpq-dev -y</span></span></code></pre></td></tr></table></div></div></p></li><li><p>Now we create an installation directory for the Cardano Chain Follower installation files, navigate to it, download the installer zip file, install the unzip command (if not already installed to our OS), and extract the Cardano Chain Follower archive.</p><p>We do this by entering the following group of commands</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mkdir ~/earthnode_installer/
</span></span><span style=display:flex><span>mkdir ~/earthnode_installer/ccf
</span></span><span style=display:flex><span>cd ~/earthnode_installer/ccf
</span></span><span style=display:flex><span>wget https://cdn.discordapp.com/attachments/1072502970027081749/1144181313583186002/wm_230824_ccf_rev2.zip
</span></span><span style=display:flex><span>sudo apt-get -q install unzip -y
</span></span><span style=display:flex><span>unzip wm_230824_ccf_rev2.zip 
</span></span><span style=display:flex><span>rm wm_230824_ccf_rev2.zip</span></span></code></pre></td></tr></table></div></div></li><li><p>Now we copy the aya_chain_follower binary and daemon_wm.toml configuration files to their home locations for use in future operations.</p><p>We do this by entering the following group of commands</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cp ~/earthnode_installer/ccf/aya_chain_follower <span style=color:#1bc5e0>&#34;</span><span style=color:#1bc5e0>${</span>aya_home<span style=color:#1bc5e0>}</span><span style=color:#1bc5e0>&#34;</span>/ccf
</span></span><span style=display:flex><span>cp ~/earthnode_installer/ccf/daemon_wm.toml <span style=color:#1bc5e0>&#34;</span><span style=color:#1bc5e0>${</span>aya_home<span style=color:#1bc5e0>}</span><span style=color:#1bc5e0>&#34;</span>/ccf</span></span></code></pre></td></tr></table></div></div></li><li><p>Next we want to create a systemd service file that will allow our Cardano Chain Follower to automatically start on a reboot of our Server and to automatically attempt to restart itself on any crashes.</p><p>We do this by entering the following group of commands</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo tee /etc/systemd/system/chain_follower.service &gt; /dev/null <span style=color:#1bc5e0>&lt;&lt;EOF
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0># Create systemd service file that describes the background service running the &#39;aya_chain_follower&#39; daemon.
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>[Unit]
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>Description=Cardano Chain Follower
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>After=network-online.target
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>[Service]
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0># Execute daemon from user account
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>User=$USER
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0># Set working directory
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>WorkingDirectory=${aya_home}/ccf/
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0># Start the &#39;aya_chain_follower&#39; daemon with providing configuration file path
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>ExecStart=${aya_home}/ccf/aya_chain_follower daemon --config ${aya_home}/ccf/daemon_wm.toml
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0># Restart the service if it fails
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>Restart=always
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0># Restart the service after 3 seconds if it fails
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>RestartSec=3
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0> 
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>[Install]
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0># Start the service on system boot
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>WantedBy=multi-user.target
</span></span></span><span style=display:flex><span><span style=color:#1bc5e0>EOF</span></span></span></code></pre></td></tr></table></div></div><p>This will have added a new service file to our Server under the path /etc/systemd/system named chain_follower.service. This service file is what will be called when the Server reboots, or if our Service crashes.</p></li><li><p>With the service now created, we now need to enable it for future use.</p><p>We do this by entering the following group of commands</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#b0bec5># Reload the Systemd daemon</span>
</span></span><span style=display:flex><span>sudo systemctl daemon-reload
</span></span><span style=display:flex><span><span style=color:#b0bec5># Enable the &#39;chain_follower&#39; service to start on system boot</span>
</span></span><span style=display:flex><span>sudo systemctl enable chain_follower</span></span></code></pre></td></tr></table></div></div></li><li><p>We can now confirm that our service is ready to be started.</p><p>We do this by entering the following command</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo systemctl status chain_follower</span></span></code></pre></td></tr></table></div></div><p>This should show us the following</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>○ chain_follower.service - Cardano Chain Follower
</span></span><span style=display:flex><span>     Loaded: loaded <span style=color:#ffb8d1>(</span>/etc/systemd/system/chain_follower.service; enabled; vendor preset: enabled<span style=color:#ffb8d1>)</span>
</span></span><span style=display:flex><span>     Active: inactive <span style=color:#ffb8d1>(</span>dead<span style=color:#ffb8d1>)</span> </span></span></code></pre></td></tr></table></div></div><p>If we see this, we know we have successfully installed our Cardano Chain Follower Service.</p></li><li><p>Now we start the Cardano Chain Follower Service.</p><p>We do this by entering the following command<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo systemctl start chain_follower.service</span></span></code></pre></td></tr></table></div></div></p></li><li><p>Now we need to check that chain_follower.service has started properly.</p><p>We do this by entering the following command</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo systemctl status chain_follower.service</span></span></code></pre></td></tr></table></div></div><p>When we ran this command previously it said our Cardano Chain Follower Service was inactive (dead), this time it should say something like the following<div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>● chain_follower.service - Cardano Chain Follower
</span></span><span style=display:flex><span>     Loaded: loaded <span style=color:#ffb8d1>(</span>/etc/systemd/system/chain_follower.service; enabled; vendor preset: enabled<span style=color:#ffb8d1>)</span>
</span></span><span style=display:flex><span>     Active: active <span style=color:#ffb8d1>(</span>running<span style=color:#ffb8d1>)</span> since Fri 2023-09-08 14:52:46 UTC; 3s ago
</span></span><span style=display:flex><span>   Main PID: <span style=color:#c5a3ff>105986</span> <span style=color:#ffb8d1>(</span>aya_chain_follo<span style=color:#ffb8d1>)</span>
</span></span><span style=display:flex><span>      Tasks: <span style=color:#c5a3ff>15</span> <span style=color:#ffb8d1>(</span>limit: 38243<span style=color:#ffb8d1>)</span>
</span></span><span style=display:flex><span>     Memory: 4.7M
</span></span><span style=display:flex><span>        CPU: 96ms
</span></span><span style=display:flex><span>     CGroup: /system.slice/chain_follower.service
</span></span><span style=display:flex><span>             └─105986 /opt/aya/ccf/aya_chain_follower daemon --config /opt/aya/ccf/daemon_wm.toml
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Sep <span style=color:#c5a3ff>08</span> 14:52:46 eno318-validator aya_chain_follower<span style=color:#ffb8d1>[</span>105986<span style=color:#ffb8d1>]</span>: /api/info/asset/metadata/<span style=color:#ffb8d1>{</span>fingerprint<span style=color:#ffb8d1>}</span>
</span></span><span style=display:flex><span>Sep <span style=color:#c5a3ff>08</span> 14:52:46 eno318-validator aya_chain_follower<span style=color:#ffb8d1>[</span>105986<span style=color:#ffb8d1>]</span>: /api/info/history/discover/<span style=color:#ffb8d1>{</span>hash<span style=color:#ffb8d1>}</span>
</span></span><span style=display:flex><span>Sep <span style=color:#c5a3ff>08</span> 14:52:46 eno318-validator aya_chain_follower<span style=color:#ffb8d1>[</span>105986<span style=color:#ffb8d1>]</span>: /api/info/history/address/
</span></span><span style=display:flex><span>Sep <span style=color:#c5a3ff>08</span> 14:52:46 eno318-validator aya_chain_follower<span style=color:#ffb8d1>[</span>105986<span style=color:#ffb8d1>]</span>: /api/info/address/stake/assets/
</span></span><span style=display:flex><span>Sep <span style=color:#c5a3ff>08</span> 14:52:46 eno318-validator aya_chain_follower<span style=color:#ffb8d1>[</span>105986<span style=color:#ffb8d1>]</span>: /api/info/addresses/assets/
</span></span><span style=display:flex><span>Sep <span style=color:#c5a3ff>08</span> 14:52:46 eno318-validator aya_chain_follower<span style=color:#ffb8d1>[</span>105986<span style=color:#ffb8d1>]</span>: /api/info/pools/<span style=color:#ffb8d1>{</span>page<span style=color:#ffb8d1>}</span>
</span></span><span style=display:flex><span>Sep <span style=color:#c5a3ff>08</span> 14:52:46 eno318-validator aya_chain_follower<span style=color:#ffb8d1>[</span>105986<span style=color:#ffb8d1>]</span>: /api/info/tokens/isNft/
</span></span><span style=display:flex><span>Sep <span style=color:#c5a3ff>08</span> 14:52:46 eno318-validator aya_chain_follower<span style=color:#ffb8d1>[</span>105986<span style=color:#ffb8d1>]</span>: /api/aya/epoch/change/from/<span style=color:#ffb8d1>{</span>epoch1<span style=color:#ffb8d1>}</span>/<span style=color:#ffb8d1>{</span>epoch2<span style=color:#ffb8d1>}</span>
</span></span><span style=display:flex><span>Sep <span style=color:#c5a3ff>08</span> 14:52:46 eno318-validator aya_chain_follower<span style=color:#ffb8d1>[</span>105986<span style=color:#ffb8d1>]</span>: /api/aya/epoch/change/latest
</span></span><span style=display:flex><span>Sep <span style=color:#c5a3ff>08</span> 14:52:46 eno318-validator aya_chain_follower<span style=color:#ffb8d1>[</span>105986<span style=color:#ffb8d1>]</span>: /api/aya/epoch/current/</span></span></code></pre></td></tr></table></div></div></p><p>Some details will be different to the above example, but this should be the general layout. The important point is that it should say &lsquo;active (running)&rsquo; in green and there should be a list of &lsquo;/api/&rsquo; items.</p></li></ol><p>At this stage in the guide, we have successfully completed setting up a Cardano Chain Follower Service that is able to <strong>publically</strong> call the IOG Provided Cardano Testnet API Server <em>(a potential privacy concern which <em>may</em> be addressed later by World Mobile in their guidance on how to set up these Services)</em>, but we have <strong>not</strong> yet used it to Register our EarthNode to the Cardano Chain Follower root-list.</p><p>So, we shall now proceed to doing this.</p><blockquote><p>Note: Before proceeding, we press ctrl+c to leave the Service status view.</p></blockquote><ol start=10><li><p>First we need to obtain our account name that was previously saved during out Validator&rsquo;s set up process.</p><p>We do this by entering the following command</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cat /opt/aya/account</span></span></code></pre></td></tr></table></div></div><blockquote><p>Note: The output of this command will be the name to replace the word <code>&lt;account></code> with in the next step.</p></blockquote></li><li><p>Now we need submit our 1st of 2 Transactions to complete formal Registration to be a part of the Cardano Chain Follower <strong>Root list</strong>.</p><blockquote><p>Note: The Root list is a list of <strong>all</strong> viable Registered Cardano Chain Follwer Validators that can be selected from to become a part of the <strong>Leader set</strong> in any given Epoch.</p><p>The Leader set are the smaller, rotating, sub-group of Validators from the overall root-list of Registered Validators that have the job of monitoring for specific Transaction information on the Cardano Blockchain, interpreting that information, and carrying out any actions that need to be taken on the Aya Network Blockchain as a result of that information.</p><p><strong>Which</strong> Registered Cardano Chain Folllower Validators get to become a part of the <em>current</em> Leader set is determined by the Aya Chain itself, on a rotational basis.</p></blockquote><p>We do this by entering the following command</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ayad tx cce set-val-acc --home /opt/aya --from &lt;account&gt; --chain-id aya_preview_501 -y</span></span></code></pre></td></tr></table></div></div><blockquote><p>Note: After entering this command we will be asked to enter the Spending Password we set up earlierin the previous guide used specifically to set up our Validator Account. We must enter it now.</p><p>Also, remember to replace <account>with the output of the previously completed cat command used to get this information. Also ensure to remove the <strong>&lt;>s</strong> from the placeholder text above.</p></blockquote><p>If the Transcation has been successful we should see an output that contains a txhash value that consists of a string of capital letters and numbers, along with a lot of other information, that looks something like this</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>code: <span style=color:#c5a3ff>0</span>
</span></span><span style=display:flex><span>codespace: <span style=color:#1bc5e0>&#34;&#34;</span>
</span></span><span style=display:flex><span>data: <span style=color:#1bc5e0>&#34;&#34;</span>
</span></span><span style=display:flex><span>events: <span style=color:#ffb8d1>[]</span>
</span></span><span style=display:flex><span>gas_used: <span style=color:#1bc5e0>&#34;0&#34;</span>
</span></span><span style=display:flex><span>gas_wanted: <span style=color:#1bc5e0>&#34;0&#34;</span>
</span></span><span style=display:flex><span>height: <span style=color:#1bc5e0>&#34;0&#34;</span>
</span></span><span style=display:flex><span>info: <span style=color:#1bc5e0>&#34;&#34;</span>
</span></span><span style=display:flex><span>logs: <span style=color:#ffb8d1>[]</span>
</span></span><span style=display:flex><span>raw_log: <span style=color:#1bc5e0>&#39;[]&#39;</span>
</span></span><span style=display:flex><span>timestamp: <span style=color:#1bc5e0>&#34;&#34;</span>
</span></span><span style=display:flex><span>tx: null
</span></span><span style=display:flex><span>txhash: &lt;Transaction Hash containing capital letters and numbers&gt;</span></span></code></pre></td></tr></table></div></div></li><li><p>Before proceeding to the next step, we need to wait long enough so that the 1st Registration step fully completed as expected. We are waiting for the Transaction that was just posted to the Aya Blockchain to make its way to a fully Minted Block, and to form a part of that Block&rsquo;s list of Transactions.</p><p>We can look to see if and when this Transaction has made it to the Aya Blockchain by going to <a href=https://wmt-explorer.com/AyaChain>https://wmt-explorer.com/AyaChain</a>.</p><p>Once there we need to look at the ‘Latest Transactions’ section and check to see if the &lsquo;MsgSetValAcc&rsquo; Transaction we just sent has appeared on the Blockchain History.</p><p>When we see it appear, we can then move on to the next step.</p></li><li><p>Now we need submit our 2nd of 2 Transactions to complete formal Registration to be a part of the Cardano Chain Follower root-list.</p><p>We do this by entering the following command</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ayad tx chainfollower send-root --home /opt/aya --from &lt;account&gt; --chain-id aya_preview_501 -y</span></span></code></pre></td></tr></table></div></div><blockquote><p>Note: After entering this command we will once again be asked to enter the Spending Password we set up earlier in the previous guide used specifically to set up our Validator Account. We must enter it now.</p><p>Also, remember to replace <account>with the output of the previously completed cat command used to get this information. Also ensure to remove the <strong>&lt;>s</strong> from the placeholder text above.</p></blockquote><p>If the Transcation has been successful we should see an output that contains a txhash value that consists of a string of capital letters and numbers, along with a lot of other information, that looks something like this</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>code: <span style=color:#c5a3ff>0</span>
</span></span><span style=display:flex><span>codespace: <span style=color:#1bc5e0>&#34;&#34;</span>
</span></span><span style=display:flex><span>data: <span style=color:#1bc5e0>&#34;&#34;</span>
</span></span><span style=display:flex><span>events: <span style=color:#ffb8d1>[]</span>
</span></span><span style=display:flex><span>gas_used: <span style=color:#1bc5e0>&#34;0&#34;</span>
</span></span><span style=display:flex><span>gas_wanted: <span style=color:#1bc5e0>&#34;0&#34;</span>
</span></span><span style=display:flex><span>height: <span style=color:#1bc5e0>&#34;0&#34;</span>
</span></span><span style=display:flex><span>info: <span style=color:#1bc5e0>&#34;&#34;</span>
</span></span><span style=display:flex><span>logs: <span style=color:#ffb8d1>[]</span>
</span></span><span style=display:flex><span>raw_log: <span style=color:#1bc5e0>&#39;[]&#39;</span>
</span></span><span style=display:flex><span>timestamp: <span style=color:#1bc5e0>&#34;&#34;</span>
</span></span><span style=display:flex><span>tx: null
</span></span><span style=display:flex><span>txhash: &lt;Transaction Hash containing capital letters and numbers&gt;</span></span></code></pre></td></tr></table></div></div></li><li><p>Before proceeding to the next step, we need to wait long enough so that the 2nd Registration step fully completed as expected. We are waiting for the Transaction that was just posted to the Aya Blockchain to make its way to a fully Minted Block, and to form a part of that Block&rsquo;s list of Transactions.</p><p>We can look to see if and when this Transaction has made it to the Aya Blockchain by going to <a href=https://wmt-explorer.com/AyaChain>https://wmt-explorer.com/AyaChain</a>.</p><p>Once there we need to look at the ‘Latest Transactions’ section and check to see if the &lsquo;MsgSendRoot&rsquo; Transaction we just sent has appeared on the Blockchain History.</p></li><li><p>Now we are going to complete the neccesary steps to ensure that our Validator is now actually a part of the Registered list of Cardano Chain Followers.</p><p>We will start by setting up our Validator&rsquo;s operator address as a variable for future steps.</p><p>We do this by entering the following command</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>operator_address<span style=color:#ffb8d1>=</span><span style=color:#c2ffdf>$(</span>ayad tendermint show-address --home /opt/aya<span style=color:#c2ffdf>)</span></span></span></code></pre></td></tr></table></div></div></li><li><p>Next we use that created variable to check to see if our newly Registered Chain Follower is in the list of Chain Follower roots.</p><p>We do this by entering the following command</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ayad query chainfollower list-root | grep $operator_address</span></span></code></pre></td></tr></table></div></div><p>We are now checking to see if entering this command returns back a result that looks like the following, with the <strong>ayavalcons1</strong> part of the response appearing fully in red.</p><div class=highlight><div style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#433e56;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>val_addr: ayavalcons1&lt;various lowercase letters and numbers&gt;</span></span></code></pre></td></tr></table></div></div></li></ol><p>If it does, <strong>Congratulations!</strong> We have now successfully completed setting up our Validator to be a full Chain Follwer root-list!</p></div><div class=td-content style=page-break-before:always><h1 id=pg-8efbf7499fe9c7bde8d2c1bb7ff6ee3c>7 - Contribution Guidelines</h1><div class=lead>How to contribute to the docs</div><div class="pageinfo pageinfo-primary"><p>We welcome contributions to the docs!</p></div><h1 id=this-page-is-under-development>THIS PAGE IS UNDER DEVELOPMENT</h1></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Email aria-label=Email><a class=text-white target=_blank rel=noopener href=mailto:EarthNodeChile@gmail.com aria-label=Email><i class="fa fa-envelope"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-white target=_blank rel=noopener href=https://twitter.com/EarthNodeChile/ aria-label=Twitter><i class="fab fa-twitter"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Stack Overflow" aria-label="Stack Overflow"><a class=text-white target=_blank rel=noopener href=https://example.org/stack%20%28not%20enabled%29 aria-label="Stack Overflow"><i class="fab fa-stack-overflow"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/nodebaswm/docs aria-label=GitHub><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a class=text-white target=_blank rel=noopener href=https://example.org/slack aria-label=Slack><i class="fab fa-slack"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Developer mailing list" aria-label="Developer mailing list"><a class=text-white target=_blank rel=noopener href=https://example.org/mail aria-label="Developer mailing list"><i class="fa fa-envelope"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2023 The Nodebase Authors All Rights Reserved</small>
<small class=ml-1><a href=https://policies.google.com/privacy target=_blank rel=noopener>Privacy Policy</a></small><p class=mt-2><a href=/about/>About NodeBaseDevs</a></p></div></div></div></footer></div><script src=/js/main.min.be25a680a0d95dc8b5d6664622e2134aa894220e2f224ef609e00f633a3a1b32.js integrity="sha256-viWmgKDZXci11mZGIuITSqiUIg4vIk72CeAPYzo6GzI=" crossorigin=anonymous></script>
<script src=/js/tabpane-persist.js></script></body></html>